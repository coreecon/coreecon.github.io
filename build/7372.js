(globalThis.webpackChunk_JUPYTERLAB_CORE_OUTPUT=globalThis.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[7372],{37372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Clipboard:()=>s,Collapse:()=>d,CommandLinker:()=>u,CommandToolbarButton:()=>ge,CommandToolbarButtonComponent:()=>ue,DOMUtils:()=>D,Dialog:()=>x,FilenameSearcher:()=>Se,FilterBox:()=>Pe,HoverBox:()=>$,ICommandPalette:()=>p,IFrame:()=>j,ISanitizer:()=>$e,ISessionContextDialogs:()=>Ne,ISplashScreen:()=>Ae,IThemeManager:()=>Be,IToolbarWidgetRegistry:()=>Le,IWindowResolver:()=>Ge,InputDialog:()=>M,MainAreaWidget:()=>fe,MenuFactory:()=>ve,ModalCommandPalette:()=>_,Printing:()=>U,ReactWidget:()=>E,ReactiveToolbar:()=>le,Sanitizer:()=>Te,SessionContext:()=>Q,Spinner:()=>Y,Styling:()=>m,ThemeManager:()=>De,Toolbar:()=>ae,ToolbarButton:()=>he,ToolbarButtonComponent:()=>de,ToolbarWidgetRegistry:()=>Ke,UseSignal:()=>k,VDomModel:()=>O,VDomRenderer:()=>T,WidgetTracker:()=>S,WindowResolver:()=>Ue,addCommandToolbarButtonClass:()=>pe,addToolbarButtonClass:()=>ce,createDefaultFactory:()=>ze,createToolbarFactory:()=>Fe,defaultSanitizer:()=>ke,fuzzySearch:()=>Oe,sessionContextDialogs:()=>ee,setToolbar:()=>He,showDialog:()=>A,showErrorMessage:()=>I,translateKernelStatuses:()=>ne,updateFilterFunction:()=>Re});var s,i,o=n(92233);!function(e){function t(e,t="copy"){let n=window.getSelection();const s=[];for(let e=0,t=(null==n?void 0:n.rangeCount)||0;e<t;++e)s[e]=n.getRangeAt(e).cloneRange();const i=document.createRange();if(i.selectNodeContents(e),n&&(n.removeAllRanges(),n.addRange(i)),document.execCommand(t),n=window.getSelection(),n){n.removeAllRanges();for(let e=0,t=s.length;e<t;++e)n.addRange(s[e])}}e.getInstance=function(){return i.instance},e.setInstance=function(e){i.instance=e},e.copyToSystem=function(e){const n=document.body,s=t=>{const i=t.clipboardData||window.clipboardData;"string"==typeof e?i.setData("text",e):e.types().map((t=>{i.setData(t,e.getData(t))})),t.preventDefault(),n.removeEventListener("copy",s)};n.addEventListener("copy",s),t(n)},e.generateEvent=t}(s||(s={})),function(e){e.instance=new o.MimeData}(i||(i={}));var r=n(24643),a=n(4947),l=n(42051);class d extends l.Widget{constructor(e){super(e),this._collapseChanged=new a.Signal(this);const{widget:t,collapsed:n=!0}=e;this.addClass("jp-Collapse"),this._header=new l.Widget,this._header.addClass("jp-Collapse-header"),this._content=new l.Panel,this._content.addClass("jp-Collapse-contents");const s=new l.PanelLayout;this.layout=s,s.addWidget(this._header),s.addWidget(this._content),this.widget=t,this.collapsed=n}get widget(){return this._widget}set widget(e){const t=this._widget;t&&(t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}get collapseChanged(){return this._collapseChanged}toggle(){this.collapsed=!this.collapsed}dispose(){this.isDisposed||(this._header=null,this._widget=null,this._content=null,super.dispose())}handleEvent(e){"click"===e.type&&this._evtClick(e)}onAfterAttach(e){this._header.node.addEventListener("click",this)}onBeforeDetach(e){this._header.node.removeEventListener("click",this)}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this._setHeader(),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this._setHeader(),this._collapseChanged.emit(void 0)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._setHeader()}_setHeader(){(this._collapsed?r.caretUpIcon:r.caretDownIcon).element({container:this._header.node,label:this._widget.title.label,elementPosition:"right",height:"28px"})}}const c="commandlinker-command",h="commandlinker-args";class u{constructor(e){this._isDisposed=!1,this._commands=e.commands,document.body.addEventListener("click",this)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,document.body.removeEventListener("click",this))}connectNode(e,t,n){return e.setAttribute(`data-${c}`,t),void 0!==n&&e.setAttribute(`data-${h}`,JSON.stringify(n)),e}disconnectNode(e){return e.removeAttribute(`data-${c}`),e.removeAttribute(`data-${h}`),e}handleEvent(e){"click"===e.type&&this._evtClick(e)}populateVNodeDataset(e,t){let n;return n=void 0!==t?{[h]:JSON.stringify(t),[c]:e}:{[c]:e},n}_evtClick(e){let t=e.target;for(;t&&t.parentElement;){if(t.hasAttribute(`data-${c}`)){e.preventDefault();const n=t.getAttribute(`data-${c}`);if(!n)return;const s=t.getAttribute(`data-${h}`);let i=o.JSONExt.emptyObject;return s&&(i=JSON.parse(s)),void this._commands.execute(n,i)}t=t.parentElement}}}const p=new o.Token("@jupyterlab/apputils:ICommandPalette"),g="jp-SearchIconGroup";class _ extends l.Panel{constructor(e){super(),this.addClass("jp-ModalCommandPalette"),this.id="modal-command-palette",this.palette=e.commandPalette,this._commandPalette.commands.commandExecuted.connect((()=>{this.isAttached&&this.isVisible&&this.hideAndReset()})),this.node.tabIndex=0}get palette(){return this._commandPalette}set palette(e){this._commandPalette=e,this.searchIconGroup||this._commandPalette.inputNode.insertAdjacentElement("afterend",this.createSearchIconGroup()),this.addWidget(e),this.hideAndReset()}attach(){l.Widget.attach(this,document.body)}detach(){l.Widget.detach(this)}hideAndReset(){this.hide(),this._commandPalette.inputNode.value="",this._commandPalette.refresh()}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"blur":this.node.contains(e.target)&&!this.node.contains(e.relatedTarget)&&(e.stopPropagation(),this.hideAndReset());break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}get searchIconGroup(){return this._commandPalette.node.getElementsByClassName(g)[0]}createSearchIconGroup(){const e=document.createElement("div");return e.classList.add(g),r.searchIcon.render(e),e}onAfterAttach(e){this.node.addEventListener("keydown",this,!0),this.node.addEventListener("contextmenu",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this,!0),this.node.removeEventListener("contextmenu",this,!0)}onBeforeHide(e){document.removeEventListener("blur",this,!0)}onAfterShow(e){document.addEventListener("blur",this,!0)}onActivateRequest(e){this.isAttached&&(this.show(),this._commandPalette.activate())}_evtKeydown(e){27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.hideAndReset())}}var m,b,f=n(23203),v=n(78695),y=n(97505),w=n.n(y);!function(e){function t(e,t,s=""){e.localName===t&&e.classList.add("jp-mod-styled"),"select"===e.localName&&n(e);const i=e.getElementsByTagName(t);for(let e=0;e<i.length;e++){const o=i[e];o.classList.add("jp-mod-styled"),s&&o.classList.add(s),"select"===t&&n(o)}}function n(e){const t=document.createElement("div");return t.classList.add("jp-select-wrapper"),e.addEventListener("focus",b.onFocus),e.addEventListener("blur",b.onFocus),e.classList.add("jp-mod-styled"),e.parentElement&&e.parentElement.replaceChild(t,e),t.appendChild(e),t.appendChild(r.caretDownEmptyIcon.element({tag:"span",stylesheet:"select",right:"8px",top:"5px",width:"18px"})),t}e.styleNode=function(e,n=""){t(e,"select",n),t(e,"textarea",n),t(e,"input",n),t(e,"button",n)},e.styleNodeByTag=t,e.wrapSelect=n}(m||(m={})),function(e){e.onFocus=function(e){const t=e.target.parentElement;t&&("focus"===e.type?t.classList.add("jp-mod-focused"):t.classList.remove("jp-mod-focused"))}}(b||(b={}));var C=n(28316);class E extends l.Widget{static create(e){return new class extends E{render(){return e}}}onUpdateRequest(e){this.renderPromise=this.renderDOM()}onAfterAttach(e){v.MessageLoop.sendMessage(this,l.Widget.Msg.UpdateRequest)}onBeforeDetach(e){C.unmountComponentAtNode(this.node)}renderDOM(){return new Promise((e=>{const t=this.render();(Array.isArray(t)||t)&&C.render(t,this.node,e)}))}}class T extends E{constructor(e){super(),this._modelChanged=new a.Signal(this),this.model=null!=e?e:null}get modelChanged(){return this._modelChanged}set model(e){this._model!==e&&(this._model&&this._model.stateChanged.disconnect(this.update,this),this._model=e,e&&e.stateChanged.connect(this.update,this),this.update(),this._modelChanged.emit(void 0))}get model(){return this._model}dispose(){this.isDisposed||(this._model=null,super.dispose())}}class k extends y.Component{constructor(e){super(e),this.slot=(e,t)=>{this.props.shouldUpdate&&!this.props.shouldUpdate(e,t)||this.setState({value:[e,t]})},this.state={value:[this.props.initialSender,this.props.initialArgs]}}componentDidMount(){this.props.signal.connect(this.slot)}componentWillUnmount(){this.props.signal.disconnect(this.slot)}render(){return this.props.children(...this.state.value)}}class O{constructor(){this.stateChanged=new a.Signal(this),this._isDisposed=!1}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}}var R,P=n(30846);class S{constructor(e){this._currentChanged=new a.Signal(this),this._isDisposed=!1,this._widgetAdded=new a.Signal(this),this._widgetUpdated=new a.Signal(this);const t=this._focusTracker=new l.FocusTracker,n=this._pool=new P.RestorablePool(e);this.namespace=e.namespace,t.currentChanged.connect(((e,t)=>{t.newValue!==this.currentWidget&&(n.current=t.newValue)}),this),n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this),n.currentChanged.connect(((e,s)=>{null===s&&t.currentWidget?n.current=t.currentWidget:(this.onCurrentChanged(s),this._currentChanged.emit(s))}),this),n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e),await this._pool.add(e),this._focusTracker.activeWidget||(this._pool.current=e)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),a.Signal.clearData(this))}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){return this._pool.restore(e)}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}function A(e={}){return new x(e).launch()}function I(e,t,n=[x.okButton({label:"Dismiss"})]){console.warn("Showing error:",t);const s="string"==typeof t?t:t.message,i=e+"----"+s,o=R.errorMessagePromiseCache.get(i);if(o)return o;{const t=A({title:e,body:s,buttons:n}).then((()=>{R.errorMessagePromiseCache.delete(i)}),(e=>{throw R.errorMessagePromiseCache.delete(i),e}));return R.errorMessagePromiseCache.set(i,t),t}}class x extends l.Widget{constructor(e={}){super(),this._focusNodeSelector="",this.addClass("jp-Dialog");const t=R.handleOptions(e),n=t.renderer;if(this._host=t.host,this._defaultButton=t.defaultButton,this._buttons=t.buttons,this._hasClose=t.hasClose,this._buttonNodes=(0,f.toArray)((0,f.map)(this._buttons,(e=>n.createButtonNode(e)))),this._checkboxNode=null,t.checkbox){const{label:e="",caption:s="",checked:i=!1,className:o=""}=t.checkbox;this._checkboxNode=n.createCheckboxNode({label:e,caption:null!=s?s:e,checked:i,className:o})}this._lastMouseDownInDialog=!1;const s=this.layout=new l.PanelLayout,i=new l.Panel;i.addClass("jp-Dialog-content"),"string"==typeof e.body&&i.addClass("jp-Dialog-content-small"),s.addWidget(i),this._body=t.body;const o=n.createHeader(t.title,(()=>this.reject()),e),r=n.createBody(t.body),a=n.createFooter(this._buttonNodes,this._checkboxNode);i.addWidget(o),i.addWidget(r),i.addWidget(a),this._primary=this._buttonNodes[this._defaultButton],this._focusNodeSelector=e.focusNodeSelector,x.tracker.add(this)}dispose(){const e=this._promise;e&&(this._promise=null,e.reject(void 0),f.ArrayExt.removeFirstOf(R.launchQueue,e.promise)),super.dispose()}launch(){if(this._promise)return this._promise.promise;const e=this._promise=new o.PromiseDelegate,t=Promise.all(R.launchQueue);return R.launchQueue.push(this._promise.promise),t.then((()=>this._promise?(l.Widget.attach(this,this._host),e.promise):Promise.resolve({button:x.cancelButton(),isChecked:null,value:null})))}resolve(e){this._promise&&(void 0===e&&(e=this._defaultButton),this._resolve(this._buttons[e]))}reject(){this._promise&&this._resolve(x.cancelButton())}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"mousedown":this._evtMouseDown(e);break;case"click":this._evtClick(e);break;case"focus":this._evtFocus(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onAfterAttach(e){var t;const n=this.node;if(n.addEventListener("keydown",this,!0),n.addEventListener("contextmenu",this,!0),n.addEventListener("click",this,!0),document.addEventListener("mousedown",this,!0),document.addEventListener("focus",this,!0),this._first=R.findFirstFocusable(this.node),this._original=document.activeElement,this._focusNodeSelector){const e=this.node.querySelector(".jp-Dialog-body"),t=null==e?void 0:e.querySelector(this._focusNodeSelector);t&&(this._primary=t)}null===(t=this._primary)||void 0===t||t.focus()}onAfterDetach(e){const t=this.node;t.removeEventListener("keydown",this,!0),t.removeEventListener("contextmenu",this,!0),t.removeEventListener("click",this,!0),document.removeEventListener("focus",this,!0),document.removeEventListener("mousedown",this,!0),this._original.focus()}onCloseRequest(e){this._promise&&this.reject(),super.onCloseRequest(e)}_evtClick(e){if(!this.node.getElementsByClassName("jp-Dialog-content")[0].contains(e.target))return e.stopPropagation(),e.preventDefault(),void(this._hasClose&&!this._lastMouseDownInDialog&&this.reject());for(const t of this._buttonNodes)if(t.contains(e.target)){const e=this._buttonNodes.indexOf(t);this.resolve(e)}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation(),e.preventDefault(),this._hasClose&&this.reject();break;case 37:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)-1;n<0&&(n=this._buttonNodes.length-1);const s=this._buttonNodes[n];e.stopPropagation(),e.preventDefault(),s.focus()}break}case 39:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)+1;n==this._buttons.length&&(n=0);const s=this._buttonNodes[n];e.stopPropagation(),e.preventDefault(),s.focus()}break}case 9:{const t=this._buttonNodes[this._buttons.length-1];document.activeElement!==t||e.shiftKey||(e.stopPropagation(),e.preventDefault(),this._first.focus());break}case 13:{e.stopPropagation(),e.preventDefault();const t=document.activeElement;let n;t instanceof HTMLButtonElement&&(n=this._buttonNodes.indexOf(t)),this.resolve(n);break}}}_evtFocus(e){var t;const n=e.target;this.node.contains(n)||(e.stopPropagation(),null===(t=this._buttonNodes[this._defaultButton])||void 0===t||t.focus())}_evtMouseDown(e){const t=this.node.getElementsByClassName("jp-Dialog-content")[0],n=e.target;this._lastMouseDownInDialog=t.contains(n)}_resolve(e){var t,n,s;const i=this._promise;if(!i)return void this.dispose();this._promise=null,f.ArrayExt.removeFirstOf(R.launchQueue,i.promise);const o=this._body;let r=null;e.accept&&o instanceof l.Widget&&"function"==typeof o.getValue&&(r=o.getValue()),this.dispose(),i.resolve({button:e,isChecked:null!==(s=null===(n=null===(t=this._checkboxNode)||void 0===t?void 0:t.querySelector("input"))||void 0===n?void 0:n.checked)&&void 0!==s?s:null,value:r})}}!function(e){function t(e){e.accept=!1!==e.accept;const t=e.accept?"OK":"Cancel";return{label:e.label||t,iconClass:e.iconClass||"",iconLabel:e.iconLabel||"",caption:e.caption||"",className:e.className||"",accept:e.accept,actions:e.actions||[],displayType:e.displayType||"default"}}e.createButton=t,e.cancelButton=function(e={}){return e.accept=!1,t(e)},e.okButton=function(e={}){return e.accept=!0,t(e)},e.warnButton=function(e={}){return e.displayType="warn",t(e)},e.flush=function(){e.tracker.forEach((e=>{e.dispose()}))};class n{createHeader(e,t=(()=>{}),n={}){let s;return s="string"==typeof e?E.create(y.createElement(y.Fragment,null,e,n.hasClose&&y.createElement(r.Button,{className:"jp-Dialog-close-button",onMouseDown:e=>{0===e.button&&(e.preventDefault(),t())},onKeyDown:e=>{const{key:n}=e;"Enter"!==n&&" "!==n||t()},title:"Cancel",minimal:!0},y.createElement(r.LabIcon.resolveReact,{icon:r.closeIcon,iconClass:"jp-Icon",className:"jp-ToolbarButtonComponent-icon",tag:"span"})))):E.create(e),s.addClass("jp-Dialog-header"),m.styleNode(s.node),s}createBody(e){let t;return"string"==typeof e?(t=new l.Widget({node:document.createElement("span")}),t.node.textContent=e):e instanceof l.Widget?t=e:(t=E.create(e),v.MessageLoop.sendMessage(t,l.Widget.Msg.UpdateRequest)),t.addClass("jp-Dialog-body"),m.styleNode(t.node),t}createFooter(e,t){const n=new l.Widget;return n.addClass("jp-Dialog-footer"),t&&(n.node.appendChild(t),n.node.insertAdjacentHTML("beforeend",'<div class="jp-Dialog-spacer"></div>')),(0,f.each)(e,(e=>{n.node.appendChild(e)})),m.styleNode(n.node),n}createButtonNode(e){const t=document.createElement("button");return t.className=this.createItemClass(e),t.appendChild(this.renderIcon(e)),t.appendChild(this.renderLabel(e)),t}createCheckboxNode(e){const t=document.createElement("label");t.className="jp-Dialog-checkbox",e.className&&t.classList.add(e.className),t.title=e.caption,t.textContent=e.label;const n=document.createElement("input");return n.type="checkbox",n.checked=!!e.checked,t.insertAdjacentElement("afterbegin",n),t}createItemClass(e){let t="jp-Dialog-button";e.accept?t+=" jp-mod-accept":t+=" jp-mod-reject","warn"===e.displayType&&(t+=" jp-mod-warn");const n=e.className;return n&&(t+=` ${n}`),t}renderIcon(e){const t=document.createElement("div");return t.className=this.createIconClass(e),t.appendChild(document.createTextNode(e.iconLabel)),t}createIconClass(e){const t="jp-Dialog-buttonIcon",n=e.iconClass;return n?`${t} ${n}`:t}renderLabel(e){const t=document.createElement("div");return t.className="jp-Dialog-buttonLabel",t.title=e.caption,t.appendChild(document.createTextNode(e.label)),t}}e.Renderer=n,e.defaultRenderer=new n,e.tracker=new S({namespace:"@jupyterlab/apputils:Dialog"})}(x||(x={})),function(e){e.launchQueue=[],e.errorMessagePromiseCache=new Map,e.handleOptions=function(e={}){var t,n,s,i,o,r,a,l,d;const c=null!==(t=e.buttons)&&void 0!==t?t:[x.cancelButton(),x.okButton()];return{title:null!==(n=e.title)&&void 0!==n?n:"",body:null!==(s=e.body)&&void 0!==s?s:"",host:null!==(i=e.host)&&void 0!==i?i:document.body,checkbox:null!==(o=e.checkbox)&&void 0!==o?o:null,buttons:c,defaultButton:null!==(r=e.defaultButton)&&void 0!==r?r:c.length-1,renderer:null!==(a=e.renderer)&&void 0!==a?a:x.defaultRenderer,focusNodeSelector:null!==(l=e.focusNodeSelector)&&void 0!==l?l:"",hasClose:null===(d=e.hasClose)||void 0===d||d}},e.findFirstFocusable=function(e){const t=["input","select","a[href]","textarea","button","[tabindex]"].join(",");return e.querySelectorAll(t)[0]}}(R||(R={}));var D,N=n(94812);!function(e){e.hitTestNodes=function(e,t,n){return f.ArrayExt.findFirstIndex(e,(e=>N.ElementExt.hitTest(e,t,n)))},e.findElement=function(e,t){return e.querySelector(`.${t}`)},e.findElements=function(e,t){return e.getElementsByClassName(t)},e.createDomID=function(){return`id-${o.UUID.uuid4()}`}}(D||(D={}));const B="jp-mod-outofview";var $,L,M;!function(e){e.setGeometry=function(e){const{anchor:t,host:n,node:s,privilege:i,outOfViewDisplay:o}=e;s.classList.add("jp-HoverBox"),s.classList.remove(B),s.style.maxHeight="",s.style.marginTop="";const r=e.style||window.getComputedStyle(s),a=window.innerHeight,l=t.top,d=a-t.bottom,c=parseInt(r.marginTop,10)||0,h=parseInt(r.marginLeft,10)||0,u=parseInt(r.minHeight,10)||e.minHeight;let p=parseInt(r.maxHeight,10)||e.maxHeight;const g="forceAbove"!==i&&("forceBelow"===i||("above"===i?l<p&&l<d:d>=p||d>=l));if(g?p=Math.min(d-c,p):(p=Math.min(l,p),s.style.marginTop="0px"),s.style.maxHeight=`${p}px`,!(p>u&&(d>=u||l>=u)))return void s.classList.add(B);const _=e.offset&&e.offset.vertical&&e.offset.vertical.above||0,m=e.offset&&e.offset.vertical&&e.offset.vertical.below||0;let b=g?a-d+m:l-s.getBoundingClientRect().height+_;s.style.top=`${Math.floor(b)}px`;const f=e.offset&&e.offset.horizontal||0;let v=t.left+f;s.style.left=`${Math.ceil(v)}px`,s.style.width="auto",s.scrollHeight>=p&&(s.style.width=""+(2*s.offsetWidth-s.clientWidth),s.scrollTop=0);const y=s.getBoundingClientRect(),w=n.getBoundingClientRect(),C=y.right;C>window.innerWidth&&(v-=C-window.innerWidth,s.style.left=`${Math.ceil(v)}px`),v<f-h&&(v=f-h,s.style.left=`${Math.ceil(v)}px`),s.classList.add(B);const E=y.bottom,T=n.contains(document.elementFromPoint(v,b)),k=n.contains(document.elementFromPoint(C,b)),O=n.contains(document.elementFromPoint(C,E)),R=n.contains(document.elementFromPoint(v,E)),P=T||k,S=R||O,A=T||R,I=O||k,x=E-b,D=C-v,N=b<w.top,$=E>w.bottom,L=v+h<w.left,M=C>w.right;let j=!1,W=!1,F=!1;if(N)switch((null==o?void 0:o.top)||"hidden-inside"){case"hidden-inside":P||(j=!0);break;case"hidden-outside":S||(j=!0);break;case"stick-inside":w.top>b&&(b=w.top,F=!0);break;case"stick-outside":w.top>E&&(b=w.top-x,F=!0)}if($)switch((null==o?void 0:o.bottom)||"hidden-outside"){case"hidden-inside":S||(j=!0);break;case"hidden-outside":P||(j=!0);break;case"stick-inside":w.bottom<E&&(b=w.bottom-x,F=!0);break;case"stick-outside":w.bottom<b&&(b=w.bottom,F=!0)}if(L)switch((null==o?void 0:o.left)||"hidden-inside"){case"hidden-inside":A||(j=!0);break;case"hidden-outside":I||(j=!0);break;case"stick-inside":w.left>v+h&&(v=w.left-h,W=!0);break;case"stick-outside":w.left>C&&(v=w.left-h-D,W=!0)}if(M)switch((null==o?void 0:o.right)||"hidden-outside"){case"hidden-inside":I||(j=!0);break;case"hidden-outside":A||(j=!0);break;case"stick-inside":w.right<C&&(v=w.right-D,W=!0);break;case"stick-outside":w.right<v&&(v=w.right,W=!0)}j||s.classList.remove(B),W&&(s.style.left=`${Math.ceil(v)}px`),F&&(s.style.top=`${Math.ceil(b)}px`)}}($||($={}));class j extends l.Widget{constructor(e={}){super({node:L.createNode()}),this._sandbox=[],this.addClass("jp-IFrame"),this.sandbox=e.sandbox||[],this.referrerPolicy=e.referrerPolicy||"no-referrer"}get referrerPolicy(){return this._referrerPolicy}set referrerPolicy(e){this._referrerPolicy!==e&&(this._referrerPolicy=e,this.node.querySelector("iframe").setAttribute("referrerpolicy",e))}get sandbox(){return this._sandbox.slice()}set sandbox(e){this._sandbox=e.slice();const t=this.node.querySelector("iframe"),n=e.length?e.join(" "):"";t.setAttribute("sandbox",n)}get url(){return this.node.querySelector("iframe").getAttribute("src")||""}set url(e){this.node.querySelector("iframe").setAttribute("src",e)}}!function(e){e.createNode=function(){const e=document.createElement("div"),t=document.createElement("iframe");return t.setAttribute("sandbox",""),t.style.height="100%",t.style.width="100%",e.appendChild(t),e}}(L||(L={})),function(e){e.getBoolean=function(e){return A(Object.assign(Object.assign({},e),{body:new F(e),buttons:[x.cancelButton({label:e.cancelLabel}),x.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getNumber=function(e){return A(Object.assign(Object.assign({},e),{body:new H(e),buttons:[x.cancelButton({label:e.cancelLabel}),x.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getItem=function(e){return A(Object.assign(Object.assign({},e),{body:new G(e),buttons:[x.cancelButton({label:e.cancelLabel}),x.okButton({label:e.okLabel})],focusNodeSelector:e.editable?"input":"select"}))},e.getText=function(e){return A(Object.assign(Object.assign({},e),{body:new K(e),buttons:[x.cancelButton({label:e.cancelLabel}),x.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getPassword=function(e){return A(Object.assign(Object.assign({},e),{body:new z(e),buttons:[x.cancelButton({label:e.cancelLabel}),x.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}}(M||(M={}));class W extends l.Widget{constructor(e){if(super(),this.addClass("jp-Input-Dialog"),this._input=document.createElement("input"),this._input.classList.add("jp-mod-styled"),this._input.id="jp-dialog-input-id",void 0!==e){const t=document.createElement("label");t.textContent=e,t.htmlFor=this._input.id,this.node.appendChild(t)}this.node.appendChild(this._input)}}class F extends W{constructor(e){super(e.label),this.addClass("jp-Input-Boolean-Dialog"),this._input.type="checkbox",this._input.checked=!!e.value}getValue(){return this._input.checked}}class H extends W{constructor(e){super(e.label),this._input.type="number",this._input.value=e.value?e.value.toString():"0"}getValue(){return this._input.value?Number(this._input.value):Number.NaN}}class K extends W{constructor(e){var t;super(e.label),this._input.type="text",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder),this._initialSelectionRange=Math.min(this._input.value.length,Math.max(0,null!==(t=e.selectionRange)&&void 0!==t?t:this._input.value.length))}onAfterAttach(e){super.onAfterAttach(e),this._initialSelectionRange>0&&this._input.value&&this._input.setSelectionRange(0,this._initialSelectionRange)}getValue(){return this._input.value}}class z extends W{constructor(e){super(e.label),this._input.type="password",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder)}onAfterAttach(e){super.onAfterAttach(e),this._input.value&&this._input.select()}getValue(){return this._input.value}}class G extends W{constructor(e){super(e.label),this._editable=e.editable||!1;let t,n=e.current||0;if("number"==typeof n&&(t=Math.max(0,Math.min(n,e.items.length-1)),n=""),this._list=document.createElement("select"),e.items.forEach(((e,s)=>{const i=document.createElement("option");s===t&&(i.selected=!0,n=e),i.value=e,i.textContent=e,this._list.appendChild(i)})),e.editable){const t=document.createElement("datalist");t.id="input-dialog-items",t.appendChild(this._list),this._input.type="list",this._input.value=n,this._input.setAttribute("list",t.id),e.placeholder&&(this._input.placeholder=e.placeholder),this.node.appendChild(t)}else this._input.remove(),this.node.appendChild(m.wrapSelect(this._list))}getValue(){return this._editable?this._input.value:this._list.value}}var U,V=n(56956),q=n(70988);!function(e){function t(t){return!("object"!=typeof t||!t)&&e.symbol in t}async function n(e){const t="string"==typeof e,n=function(){const e=window.document.createElement("iframe");e.setAttribute("sandbox","allow-modals allow-same-origin");return e.setAttribute("style","visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;"),e.setAttribute("width","0"),e.setAttribute("height","0"),e}(),i=window.document.body;i.appendChild(n),t?(n.srcdoc=e,await s(n)):(n.src="about:blank",await s(n),function(e,t){e.contentDocument.body.appendChild(t.cloneNode(!0)),e.contentDocument.close()}(n,e));const o=new Promise((e=>{const t=()=>{document.removeEventListener("mousemove",t,!0),document.removeEventListener("mousedown",t,!0),document.removeEventListener("keydown",t,!0),e()};document.addEventListener("mousemove",t,!0),document.addEventListener("mousedown",t,!0),document.addEventListener("keydown",t,!0)}));var r;(r=n.contentWindow).document.execCommand("print",!1)||r.print(),await o,i.removeChild(n)}function s(e){return new Promise((t=>{e.onload=()=>t()}))}e.symbol=Symbol("printable"),e.isPrintable=t,e.getPrintFunction=function(n){return t(n)?n[e.symbol]():null},e.printWidget=function(e){return n(e.node)},e.printURL=async function(e){const t=q.ServerConnection.makeSettings();return n(await(await q.ServerConnection.makeRequest(e,{},t)).text())}}(U||(U={}));class Y extends l.Widget{constructor(){super(),this.addClass("jp-Spinner"),this.node.tabIndex=-1;const e=document.createElement("div");e.className="jp-SpinnerContent",this.node.appendChild(e)}onActivateRequest(e){this.node.focus()}}var X=n(1514),Z=n(24629),J=n(59110);class Q{constructor(e){var t,n,s,i;this._path="",this._name="",this._type="",this._prevKernelName="",this._isDisposed=!1,this._disposed=new a.Signal(this),this._session=null,this._ready=new o.PromiseDelegate,this._initializing=!1,this._initStarted=new o.PromiseDelegate,this._initPromise=new o.PromiseDelegate,this._isReady=!1,this._isTerminating=!1,this._isRestarting=!1,this._kernelChanged=new a.Signal(this),this._sessionChanged=new a.Signal(this),this._statusChanged=new a.Signal(this),this._connectionStatusChanged=new a.Signal(this),this._pendingInput=!1,this._iopubMessage=new a.Signal(this),this._unhandledMessage=new a.Signal(this),this._propertyChanged=new a.Signal(this),this._dialog=null,this._busyDisposable=null,this._pendingKernelName="",this._pendingSessionRequest="",this.sessionManager=e.sessionManager,this.specsManager=e.specsManager,this.translator=e.translator||V.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._path=null!==(t=e.path)&&void 0!==t?t:o.UUID.uuid4(),this._type=null!==(n=e.type)&&void 0!==n?n:"",this._name=null!==(s=e.name)&&void 0!==s?s:"",this._setBusy=e.setBusy,this._kernelPreference=null!==(i=e.kernelPreference)&&void 0!==i?i:{}}get session(){var e;return null!==(e=this._session)&&void 0!==e?e:null}get path(){return this._path}get type(){return this._type}get name(){return this._name}get kernelChanged(){return this._kernelChanged}get sessionChanged(){return this._sessionChanged}get statusChanged(){return this._statusChanged}get pendingInput(){return this._pendingInput}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get propertyChanged(){return this._propertyChanged}get kernelPreference(){return this._kernelPreference}set kernelPreference(e){this._kernelPreference=e}get isReady(){return this._isReady}get ready(){return this._ready.promise}get isTerminating(){return this._isTerminating}get isRestarting(){return this._isRestarting}get hasNoKernel(){return this.kernelDisplayName===this.noKernelName}get kernelDisplayName(){var e,t,n,s,i,o,r,a,l,d;const c=null===(e=this.session)||void 0===e?void 0:e.kernel;if(this._pendingKernelName===this.noKernelName)return this.noKernelName;if(!c&&!this.isReady&&!1!==this.kernelPreference.canStart&&!1!==this.kernelPreference.shouldStart){let e=this._pendingKernelName||Q.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:this.kernelPreference})||"";return e?(e=null!==(s=null===(n=null===(t=this.specsManager.specs)||void 0===t?void 0:t.kernelspecs[e])||void 0===n?void 0:n.display_name)&&void 0!==s?s:e,e):this.noKernelName}return this._pendingKernelName?null!==(r=null===(o=null===(i=this.specsManager.specs)||void 0===i?void 0:i.kernelspecs[this._pendingKernelName])||void 0===o?void 0:o.display_name)&&void 0!==r?r:this._pendingKernelName:c?null!==(d=null===(l=null===(a=this.specsManager.specs)||void 0===a?void 0:a.kernelspecs[c.name])||void 0===l?void 0:l.display_name)&&void 0!==d?d:c.name:this.noKernelName}get kernelDisplayStatus(){var e,t;const n=null===(e=this.session)||void 0===e?void 0:e.kernel;return this._isTerminating?"terminating":this._isRestarting?"restarting":this._pendingKernelName===this.noKernelName?"unknown":!n&&this._pendingKernelName?"initializing":n||this.isReady||!1===this.kernelPreference.canStart||!1===this.kernelPreference.shouldStart?null!==(t="connected"===(null==n?void 0:n.connectionStatus)?null==n?void 0:n.status:null==n?void 0:n.connectionStatus)&&void 0!==t?t:"unknown":"initializing"}get prevKernelName(){return this._prevKernelName}get isDisposed(){return this._isDisposed}get disposed(){return this._disposed}get noKernelName(){return this._trans.__("No Kernel")}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._session&&(this.kernelPreference.shutdownOnDispose&&this.sessionManager.shutdown(this._session.id).catch((e=>{console.error(`Kernel not shut down ${e}`)})),this._session.dispose(),this._session=null),this._dialog&&this._dialog.dispose(),this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null),a.Signal.clearData(this))}async restartKernel(){var e,t,n,s,i,o;const r=(null===(e=this.session)||void 0===e?void 0:e.kernel)||null;if(!this._isRestarting){this._isRestarting=!0,this._isReady=!1,this._statusChanged.emit("restarting");try{await(null===(n=null===(t=this.session)||void 0===t?void 0:t.kernel)||void 0===n?void 0:n.restart()),this._isReady=!0}catch(e){console.error(e)}this._isRestarting=!1,this._statusChanged.emit((null===(i=null===(s=this.session)||void 0===s?void 0:s.kernel)||void 0===i?void 0:i.status)||"unknown"),this._kernelChanged.emit({name:"kernel",oldValue:r,newValue:(null===(o=this.session)||void 0===o?void 0:o.kernel)||null})}}async changeKernel(e={}){if(this.isDisposed)throw new Error("Disposed");return await this._initStarted.promise,this._changeKernel(e)}async shutdown(){if(!this.isDisposed&&this._initializing)return await this._initStarted.promise,this._pendingSessionRequest="",this._pendingKernelName=this.noKernelName,this._shutdownSession()}async initialize(){if(this._initializing)return this._initPromise.promise;this._initializing=!0;const e=await this._initialize();return e||(this._isReady=!0,this._ready.resolve(void 0)),this._pendingSessionRequest||this._initStarted.resolve(void 0),this._initPromise.resolve(e),e}async _initialize(){const e=this.sessionManager;await e.ready,await e.refreshRunning();const t=(0,f.find)(e.running(),(e=>e.path===this._path));if(t)try{const n=e.connectTo({model:t});this._handleNewSession(n)}catch(e){return this._handleSessionError(e),Promise.reject(e)}return await this._startIfNecessary()}async _shutdownSession(){var e;const t=this._session,n=this._isTerminating,s=this._isReady;this._isTerminating=!0,this._isReady=!1,this._statusChanged.emit("terminating");try{await(null==t?void 0:t.shutdown()),this._isTerminating=!1,null==t||t.dispose(),this._session=null;const e=(null==t?void 0:t.kernel)||null;this._statusChanged.emit("unknown"),this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:null}),this._sessionChanged.emit({name:"session",oldValue:t,newValue:null})}catch(i){this._isTerminating=n,this._isReady=s;const o=null===(e=null==t?void 0:t.kernel)||void 0===e?void 0:e.status;throw void 0===o?this._statusChanged.emit("unknown"):this._statusChanged.emit(o),i}}async _startIfNecessary(){var e;const t=this.kernelPreference;if(this.isDisposed||(null===(e=this.session)||void 0===e?void 0:e.kernel)||!1===t.shouldStart||!1===t.canStart)return!1;let n;if(t.id)n={id:t.id};else{const e=Q.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:t});e&&(n={name:e})}if(n)try{return await this._changeKernel(n),!1}catch(e){}return!0}async _changeKernel(e={},t=!1){if(e.name&&(this._pendingKernelName=e.name),this._session||this._kernelChanged.emit({name:"kernel",oldValue:null,newValue:null}),this._pendingSessionRequest||this._initStarted.resolve(void 0),this._session&&!this._isTerminating)try{return await this._session.changeKernel(e),this._session.kernel}catch(e){throw this._handleSessionError(e),e}const n=J.PathExt.dirname(this._path),s=this._pendingSessionRequest=J.PathExt.join(n,o.UUID.uuid4());try{this._statusChanged.emit("starting");const t=await this.sessionManager.startNew({path:s,type:this._type,name:this._name,kernel:e});return this._pendingSessionRequest!==t.path?(await t.shutdown(),t.dispose(),null):(await t.setPath(this._path),await t.setName(this._name),this._session&&!this._isTerminating&&await this._shutdownSession(),this._handleNewSession(t))}catch(e){throw this._handleSessionError(e),e}}_handleNewSession(e){var t,n,s;if(this.isDisposed)throw Error("Disposed");return this._isReady||(this._isReady=!0,this._ready.resolve(void 0)),this._session&&this._session.dispose(),this._session=e,this._pendingKernelName="",e&&(this._prevKernelName=null!==(n=null===(t=e.kernel)||void 0===t?void 0:t.name)&&void 0!==n?n:"",e.disposed.connect(this._onSessionDisposed,this),e.propertyChanged.connect(this._onPropertyChanged,this),e.kernelChanged.connect(this._onKernelChanged,this),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onConnectionStatusChanged,this),e.pendingInput.connect(this._onPendingInput,this),e.iopubMessage.connect(this._onIopubMessage,this),e.unhandledMessage.connect(this._onUnhandledMessage,this),e.path!==this._path&&this._onPropertyChanged(e,"path"),e.name!==this._name&&this._onPropertyChanged(e,"name"),e.type!==this._type&&this._onPropertyChanged(e,"type")),this._sessionChanged.emit({name:"session",oldValue:null,newValue:e}),this._kernelChanged.emit({oldValue:null,newValue:(null==e?void 0:e.kernel)||null,name:"kernel"}),this._statusChanged.emit((null===(s=null==e?void 0:e.kernel)||void 0===s?void 0:s.status)||"unknown"),(null==e?void 0:e.kernel)||null}async _handleSessionError(e){this._handleNewSession(null);let t="",n="";try{t=e.traceback,n=e.message}catch(e){}await this._displayKernelError(n,t)}async _displayKernelError(e,t){const n=y.createElement("div",null,e&&y.createElement("pre",null,e),t&&y.createElement("details",{className:"jp-mod-wide"},y.createElement("pre",null,t))),s=this._dialog=new x({title:this._trans.__("Error Starting Kernel"),body:n,buttons:[x.okButton()]});await s.launch(),this._dialog=null}_onSessionDisposed(){if(this._session){const e=this._session;this._session=null;const t=this._session;this._sessionChanged.emit({name:"session",oldValue:e,newValue:t})}}_onPropertyChanged(e,t){switch(t){case"path":this._path=e.path;break;case"name":this._name=e.name;break;case"type":this._type=e.type;break;default:throw new Error(`unrecognized property ${t}`)}this._propertyChanged.emit(t)}_onKernelChanged(e,t){this._kernelChanged.emit(t)}_onStatusChanged(e,t){var n;if("dead"===t){const t=null===(n=e.kernel)||void 0===n?void 0:n.model;if(null==t?void 0:t.reason){const e=t.traceback||"";this._displayKernelError(t.reason,e)}}this._setBusy&&("busy"===t?this._busyDisposable||(this._busyDisposable=this._setBusy()):this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null)),this._statusChanged.emit(t)}_onConnectionStatusChanged(e,t){this._connectionStatusChanged.emit(t)}_onPendingInput(e,t){this._pendingInput=t}_onIopubMessage(e,t){"shutdown_reply"===t.header.msg_type&&this.session.kernel.removeInputGuard(),this._iopubMessage.emit(t)}_onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}}!function(e){e.getDefaultKernel=function(e){return te.getDefaultKernel(e)}}(Q||(Q={}));const ee={async selectKernel(e,t){if(e.isDisposed)return Promise.resolve();const n=(t=t||V.nullTranslator).load("jupyterlab");let s=n.__("Cancel");e.hasNoKernel&&(s=e.kernelDisplayName);const i=[x.cancelButton({label:s}),x.okButton({label:n.__("Select")})],o=new x({title:n.__("Select Kernel"),body:new te.KernelSelector(e,t),buttons:i}),r=await o.launch();if(e.isDisposed||!r.button.accept)return;const a=r.value;if(null===a&&!e.hasNoKernel)return e.shutdown();a&&await e.changeKernel(a)},async restart(e,t){var n;const s=(t=t||V.nullTranslator).load("jupyterlab");if(await e.initialize(),e.isDisposed)throw new Error("session already disposed");const i=null===(n=e.session)||void 0===n?void 0:n.kernel;if(!i&&e.prevKernelName)return await e.changeKernel({name:e.prevKernelName}),!0;if(!i)throw new Error("No kernel to restart");const o=x.warnButton({label:"Restart"}),r=await A({title:s.__("Restart Kernel?"),body:s.__("Do you want to restart the current kernel? All variables will be lost."),buttons:[x.cancelButton(),o]});return!i.isDisposed&&!!r.button.accept&&(await e.restartKernel(),!0)}};var te;function ne(e){const t=(e=e||V.nullTranslator).load("jupyterlab");return{unknown:t.__("Unknown"),starting:t.__("Starting"),idle:t.__("Idle"),busy:t.__("Busy"),terminating:t.__("Terminating"),restarting:t.__("Restarting"),autorestarting:t.__("Autorestarting"),dead:t.__("Dead"),connected:t.__("Connected"),connecting:t.__("Connecting"),disconnected:t.__("Disconnected"),initializing:t.__("Initializing"),"":""}}!function(e){class t extends l.Widget{constructor(e,t){super({node:n(e,t)})}getValue(){const e=this.node.querySelector("select");return JSON.parse(e.value)}}function n(e,t){const n=(t=t||V.nullTranslator).load("jupyterlab"),i=document.createElement("div"),o=document.createElement("label");o.textContent=`${n.__("Select kernel for:")} "${e.name}"`,i.appendChild(o);const r=function(e){return{specs:e.specsManager.specs,sessions:e.sessionManager.running(),preference:e.kernelPreference}}(e),a=document.createElement("select");return s(a,r,t,e.hasNoKernel?null:e.kernelDisplayName),i.appendChild(a),i}function s(e,t,n,s=null){for(;e.firstChild;)e.removeChild(e.firstChild);const{preference:a,sessions:l,specs:d}=t,{name:c,id:h,language:u,canStart:p,shouldStart:g}=a,_=(n=n||V.nullTranslator).load("jupyterlab");if(!d||!1===p)return e.appendChild(o(n)),e.value="null",void(e.disabled=!0);e.disabled=!1;const m=Object.create(null),b=Object.create(null);for(const e in d.kernelspecs){const t=d.kernelspecs[e];m[e]=t.display_name,b[e]=t.language}const v=[];if(c&&c in d.kernelspecs&&v.push(c),u)for(const e in d.kernelspecs)c!==e&&b[e]===u&&v.push(e);v.length||v.push(d.default);const y=document.createElement("optgroup");y.label=_.__("Start Preferred Kernel"),v.sort(((e,t)=>m[e].localeCompare(m[t])));for(const e of v)y.appendChild(i(e,m[e]));y.firstChild&&e.appendChild(y),e.appendChild(o());const w=document.createElement("optgroup");w.label=_.__("Start Other Kernel");const C=[];for(const e in d.kernelspecs)-1===v.indexOf(e)&&C.push(e);C.sort(((e,t)=>m[e].localeCompare(m[t])));for(const e of C)w.appendChild(i(e,m[e]));if(C.length&&e.appendChild(w),!1===g)e.value="null";else{let t=0;s&&(t=[...e.options].findIndex((e=>e.text===s)),t=Math.max(t,0)),e.selectedIndex=t}if(!l)return;const E=[],T=[];(0,f.each)(l,(e=>{var t;u&&e.kernel&&b[e.kernel.name]===u&&e.kernel.id!==h?E.push(e):(null===(t=e.kernel)||void 0===t?void 0:t.id)!==h&&T.push(e)}));const k=document.createElement("optgroup");k.label=_.__("Use Kernel from Preferred Session"),e.appendChild(k),E.length&&(E.sort(((e,t)=>e.path.localeCompare(t.path))),(0,f.each)(E,(e=>{const t=e.kernel?m[e.kernel.name]:"";k.appendChild(r(e,t,n))})));const O=document.createElement("optgroup");O.label=_.__("Use Kernel from Other Session"),e.appendChild(O),T.length&&(T.sort(((e,t)=>e.path.localeCompare(t.path))),(0,f.each)(T,(e=>{const t=e.kernel?m[e.kernel.name]||e.kernel.name:"";O.appendChild(r(e,t,n))})))}function i(e,t){const n=document.createElement("option");return n.text=t,n.value=JSON.stringify({name:e}),n}function o(e){const t=(e=e||V.nullTranslator).load("jupyterlab"),n=document.createElement("optgroup");n.label=t.__("Use No Kernel");const s=document.createElement("option");return s.text=t.__("No Kernel"),s.value="null",n.appendChild(s),n}function r(e,t,n){var s,i;const o=(n=n||V.nullTranslator).load("jupyterlab"),r=document.createElement("option"),a=e.name||J.PathExt.basename(e.path);return r.text=a,r.value=JSON.stringify({id:null===(s=e.kernel)||void 0===s?void 0:s.id}),r.title=`${o.__("Path:")} ${e.path}\n${o.__("Name:")} ${a}\n${o.__("Kernel Name:")} ${t}\n${o.__("Kernel Id:")} ${null===(i=e.kernel)||void 0===i?void 0:i.id}`,r}e.KernelSelector=t,e.getDefaultKernel=function(e){var t;const{specs:n,preference:s}=e,{name:i,language:o,shouldStart:r,canStart:a,autoStartDefault:l}=s;if(!n||!1===r||!1===a)return null;const d=l?n.default:null;if(!i&&!o)return d;for(const e in n.kernelspecs)if(e===i)return i;if(!o)return d;const c=[];for(const e in n.kernelspecs)o===(null===(t=n.kernelspecs[e])||void 0===t?void 0:t.language)&&c.push(e);if(1===c.length){const e=c[0];return console.warn("No exact match found for "+e+", using kernel "+e+" that matches language="+o),e}return d},e.populateKernelSelect=s}(te||(te={}));var se=n(82361);const ie="toolbar-popup-opener",oe="jp-Toolbar-spacer";class re extends l.PanelLayout{constructor(){super(...arguments),this._dirty=!1}onFitRequest(e){super.onFitRequest(e),this.parent.isAttached&&((0,f.some)(this.widgets,(e=>!e.isHidden))?(this.parent.node.style.minHeight="var(--jp-private-toolbar-height)",this.parent.removeClass("jp-Toolbar-micro")):(this.parent.node.style.minHeight="",this.parent.addClass("jp-Toolbar-micro"))),this._dirty=!0,this.parent.parent&&v.MessageLoop.sendMessage(this.parent.parent,l.Widget.Msg.FitRequest),this._dirty&&v.MessageLoop.sendMessage(this.parent,l.Widget.Msg.UpdateRequest)}onUpdateRequest(e){super.onUpdateRequest(e),this.parent.isVisible&&(this._dirty=!1)}onChildShown(e){super.onChildShown(e),this.parent.fit()}onChildHidden(e){super.onChildHidden(e),this.parent.fit()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}attachWidget(e,t){super.attachWidget(e,t),this.parent.fit()}detachWidget(e,t){super.detachWidget(e,t),this.parent.fit()}}class ae extends l.Widget{constructor(e={}){var t;super(),this.addClass("jp-Toolbar"),this.layout=null!==(t=e.layout)&&void 0!==t?t:new re}names(){const e=this.layout;return(0,f.map)(e.widgets,(e=>be.nameProperty.get(e)))}addItem(e,t){const n=this.layout;return this.insertItem(n.widgets.length,e,t)}insertItem(e,t,n){if((0,f.find)(this.names(),(e=>e===t)))return!1;n.addClass("jp-Toolbar-item");const s=this.layout,i=Math.max(0,Math.min(e,s.widgets.length));return s.insertWidget(i,n),be.nameProperty.set(n,t),!0}insertAfter(e,t,n){return this._insertRelative(e,1,t,n)}insertBefore(e,t,n){return this._insertRelative(e,0,t,n)}_insertRelative(e,t,n,s){const i=(0,f.map)(this.names(),((e,t)=>({name:e,index:t}))),o=(0,f.find)(i,(t=>t.name===e));return!!o&&this.insertItem(o.index+t,n,s)}handleEvent(e){"click"===e.type&&this.handleClick(e)}handleClick(e){if(e.stopPropagation(),e.target instanceof HTMLLabelElement){const t=e.target.getAttribute("for");if(t&&this.node.querySelector(`#${t}`))return}this.node.contains(document.activeElement)||this.parent&&this.parent.activate()}onAfterAttach(e){this.node.addEventListener("click",this)}onBeforeDetach(e){this.node.removeEventListener("click",this)}}class le extends ae{constructor(){super(),this.popupOpener=new me,this._widgetWidths={},this.insertItem(0,ie,this.popupOpener),this.popupOpener.hide(),this._resizer=new se.Throttler(this._onResize.bind(this),500)}dispose(){this.isDisposed||(this._resizer&&this._resizer.dispose(),super.dispose())}insertAfter(e,t,n){return e!==ie&&super.insertAfter(e,t,n)}insertItem(e,t,n){if(n instanceof me)return super.insertItem(e,t,n);{const s=Math.max(0,Math.min(e,this.layout.widgets.length-1));return super.insertItem(s,t,n)}}onBeforeHide(e){this.popupOpener.hidePopup(),super.onBeforeHide(e)}onResize(e){super.onResize(e),e.width>0&&this._resizer&&this._resizer.invoke()}_onResize(){if(this.parent&&this.parent.isAttached){const e=this.node.clientWidth,t=this.popupOpener,n=30,s=2,i=this.layout;let o=t.isHidden?s:s+n,r=0;const a=[],l=i.widgets.length-1;for(;r<l;){const s=i.widgets[r];this._saveWidgetWidth(s),o+=this._getWidgetWidth(s),0===a.length&&t.isHidden&&o+n>e&&(o+=n),o>e&&a.push(s),r++}for(;a.length>0;){const e=a.pop();o-=this._getWidgetWidth(e),t.addWidget(e)}if(t.widgetCount()>0){const s=[];let i=0,r=t.widgetAt(i);const a=t.widgetCount();for(o+=this._getWidgetWidth(r),1===a&&o-n<=e&&(o-=n);o<e&&i<a&&(s.push(r),i++,r=t.widgetAt(i),r);)o+=this._getWidgetWidth(r);for(;s.length>0;){const e=s.shift();this.addItem(be.nameProperty.get(e),e)}}t.widgetCount()>0?(t.updatePopup(),t.show()):t.hide()}}_saveWidgetWidth(e){const t=be.nameProperty.get(e);this._widgetWidths[t]=e.hasClass(oe)?2:e.node.clientWidth}_getWidgetWidth(e){const t=be.nameProperty.get(e);return this._widgetWidths[t]}}function de(e){var t,n;return y.createElement(r.Button,Object.assign({className:e.className?e.className+" jp-ToolbarButtonComponent":"jp-ToolbarButtonComponent","aria-pressed":e.pressed,"aria-disabled":!1===e.enabled},e.dataset,{disabled:!1===e.enabled,onClick:null!==(t=e.actualOnClick)&&void 0!==t&&t?t=>{var n;0===t.button&&(null===(n=e.onClick)||void 0===n||n.call(e))}:void 0,onMouseDown:null!==(n=e.actualOnClick)&&void 0!==n&&n?void 0:t=>{var n;0===t.button&&(t.preventDefault(),null===(n=e.onClick)||void 0===n||n.call(e))},onKeyDown:t=>{var n;const{key:s}=t;"Enter"!==s&&" "!==s||null===(n=e.onClick)||void 0===n||n.call(e)},title:!1===e.enabled&&e.disabledTooltip?e.disabledTooltip:e.pressed&&e.pressedTooltip?e.pressedTooltip:e.tooltip||e.iconLabel,minimal:!0}),(e.icon||e.iconClass)&&y.createElement(r.LabIcon.resolveReact,{icon:e.pressed?e.pressedIcon:e.icon,iconClass:(0,r.classes)(e.iconClass,"jp-Icon"),className:"jp-ToolbarButtonComponent-icon",tag:"span",stylesheet:"toolbarButton"}),e.label&&y.createElement("span",{className:"jp-ToolbarButtonComponent-label"},e.label))}function ce(e){return e.addClass("jp-ToolbarButton"),e}!function(e){e.createInterruptButton=function(e,t){const n=(t=t||V.nullTranslator).load("jupyterlab");return new he({icon:r.stopIcon,onClick:()=>{var t,n;null===(n=null===(t=e.session)||void 0===t?void 0:t.kernel)||void 0===n||n.interrupt()},tooltip:n.__("Interrupt the kernel")})},e.createRestartButton=function(e,t,n){const s=(n=n||V.nullTranslator).load("jupyterlab");return new he({icon:r.refreshIcon,onClick:()=>{(null!=t?t:ee).restart(e,n)},tooltip:s.__("Restart the kernel")})},e.createSpacerItem=function(){return new be.Spacer},e.createKernelNameItem=function(e,t,n){const s=E.create(y.createElement(be.KernelNameComponent,{sessionContext:e,dialogs:null!=t?t:ee,translator:n}));return s.addClass("jp-KernelName"),s},e.createKernelStatusItem=function(e,t){return new be.KernelStatus(e,t)}}(ae||(ae={}));class he extends E{constructor(e={}){var t,n;super(),this.props=e,ce(this),this._enabled=null===(t=e.enabled)||void 0===t||t,this._pressed=this._enabled&&null!==(n=e.pressed)&&void 0!==n&&n,this._onClick=e.onClick}set pressed(e){this.enabled&&e!==this._pressed&&(this._pressed=e,this.update())}get pressed(){return this._pressed}set enabled(e){e!=this._enabled&&(this._enabled=e,this._enabled||(this._pressed=!1),this.update())}get enabled(){return this._enabled}set onClick(e){e!==this._onClick&&(this._onClick=e,this.update())}get onClick(){return this._onClick}render(){return y.createElement(de,Object.assign({},this.props,{pressed:this.pressed,enabled:this.enabled,onClick:this.onClick}))}}function ue(e){return y.createElement(k,{signal:e.commands.commandChanged,shouldUpdate:(t,n)=>n.id===e.id&&"changed"===n.type||"many-changed"===n.type},(()=>y.createElement(de,Object.assign({},be.propsFromCommand(e)))))}function pe(e){return e.addClass("jp-CommandToolbarButton"),e}class ge extends E{constructor(e){super(),this.props=e,pe(this)}render(){return y.createElement(ue,Object.assign({},this.props))}}class _e extends l.Widget{constructor(){super(),this.width=0,this.addClass("jp-Toolbar-responsive-popup"),this.layout=new l.PanelLayout,l.Widget.attach(this,document.body),this.hide()}updateWidth(e){e>0&&(this.width=e,this.node.style.width=`${e}px`)}alignTo(e){const{height:t,width:n,x:s,y:i}=e.node.getBoundingClientRect(),o=this.width;this.node.style.left=s+n-o+1+"px",this.node.style.top=`${i+t+1}px`}insertWidget(e,t){this.layout.insertWidget(0,t)}widgetCount(){return this.layout.widgets.length}widgetAt(e){return this.layout.widgets[e]}}class me extends he{constructor(){super({icon:r.ellipsesIcon,onClick:()=>{this.handleClick()}}),this.addClass("jp-Toolbar-responsive-opener"),this.popup=new _e}addWidget(e){this.popup.insertWidget(0,e)}dispose(){this.isDisposed||(this.popup.dispose(),super.dispose())}hide(){super.hide(),this.hidePopup()}hidePopup(){this.popup.hide()}updatePopup(){this.popup.updateWidth(this.parent.node.clientWidth),this.popup.alignTo(this.parent)}widgetAt(e){return this.popup.widgetAt(e)}widgetCount(){return this.popup.widgetCount()}handleClick(){this.updatePopup(),this.popup.setHidden(!this.popup.isHidden)}}var be;!function(e){e.propsFromCommand=function(e){var t,n;const{commands:s,id:i,args:o}=e,r=s.iconClass(i,o),a=s.iconLabel(i,o),l=null!==(t=e.icon)&&void 0!==t?t:s.icon(i,o),d=l===r?void 0:l,c=s.label(i,o);let h=s.className(i,o);s.isToggled(i,o)&&(h+=" lm-mod-toggled"),s.isVisible(i,o)||(h+=" lm-mod-hidden");let u=s.caption(i,o)||e.label||c||a;const p=s.keyBindings.find((e=>e.command===i));p&&(u=`${u} (${p.keys.map(X.CommandRegistry.formatKeystroke).join(", ")})`);const g=s.isEnabled(i,o);return{className:h,dataset:{"data-command":e.id},icon:d,iconClass:r,tooltip:u,onClick:()=>{s.execute(i,o)},enabled:g,label:null!==(n=e.label)&&void 0!==n?n:c}},e.nameProperty=new Z.AttachedProperty({name:"name",create:()=>""}),e.noOp=function(){};class t extends l.Widget{constructor(){super(),this.addClass(oe)}}e.Spacer=t,e.KernelNameComponent=function(e){const t=e.translator||V.nullTranslator,n=t.load("jupyterlab"),s=()=>{e.dialogs.selectKernel(e.sessionContext,t)};return y.createElement(k,{signal:e.sessionContext.kernelChanged,initialSender:e.sessionContext},(e=>y.createElement(de,{className:"jp-Toolbar-kernelName",onClick:s,tooltip:n.__("Switch kernel"),label:null==e?void 0:e.kernelDisplayName})))};class n extends l.Widget{constructor(e,t){super(),this.translator=t||V.nullTranslator,this._trans=this.translator.load("jupyterlab"),this.addClass("jp-Toolbar-kernelStatus"),this._statusNames=ne(this.translator),this._onStatusChanged(e),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onStatusChanged,this)}_onStatusChanged(e){if(this.isDisposed)return;const t=e.kernelDisplayStatus,n={container:this.node,title:this._trans.__("Kernel %1",this._statusNames[t]||t),stylesheet:"toolbarButton",alignSelf:"normal",height:"24px"};r.LabIcon.remove(this.node),"busy"===t||"starting"===t||"terminating"===t||"restarting"===t||"initializing"===t?r.circleIcon.element(n):"connecting"===t||"disconnected"===t||"unknown"===t?r.offlineBoltIcon.element(n):r.circleEmptyIcon.element(n)}}e.KernelStatus=n}(be||(be={}));class fe extends l.Widget{constructor(e){super(e),this._changeGuard=!1,this._spinner=new Y,this._isRevealed=!1,this._evtMouseDown=()=>{this.node.contains(document.activeElement)||this._focusContent()},this.addClass("jp-MainAreaWidget"),this.addClass("jp-MainAreaWidget-ContainStrict"),this.id=D.createDomID();const t=(e.translator||V.nullTranslator).load("jupyterlab"),n=this._content=e.content;n.node.setAttribute("role","region"),n.node.setAttribute("aria-label",t.__("notebook content"));const s=this._toolbar=e.toolbar||new le;s.node.setAttribute("role","navigation"),s.node.setAttribute("aria-label",t.__("notebook actions"));const i=this._contentHeader=e.contentHeader||new l.BoxPanel({direction:"top-to-bottom",spacing:0}),o=this.layout=new l.BoxLayout({spacing:0});o.direction="top-to-bottom",l.BoxLayout.setStretch(s,0),l.BoxLayout.setStretch(i,0),l.BoxLayout.setStretch(n,1),o.addWidget(s),o.addWidget(i),o.addWidget(n),n.id||(n.id=D.createDomID()),n.node.tabIndex=0,this._updateTitle(),n.title.changed.connect(this._updateTitle,this),this.title.closable=!0,this.title.changed.connect(this._updateContentTitle,this),e.reveal?(this.node.appendChild(this._spinner.node),this._revealed=e.reveal.then((()=>{if(n.isDisposed)return void this.dispose();n.disposed.connect((()=>this.dispose()));const e=document.activeElement===this._spinner.node;this._disposeSpinner(),this._isRevealed=!0,e&&this._focusContent()})).catch((e=>{const t=new l.Widget;t.addClass("jp-MainAreaWidget-error");const i=document.createElement("pre");throw i.textContent=String(e),t.node.appendChild(i),l.BoxLayout.setStretch(t,1),this._disposeSpinner(),n.dispose(),this._content=null,s.dispose(),this._toolbar=null,o.addWidget(t),this._isRevealed=!0,t}))):(this._spinner.dispose(),this.removeClass("jp-MainAreaWidget-ContainStrict"),n.disposed.connect((()=>this.dispose())),this._isRevealed=!0,this._revealed=Promise.resolve(void 0))}[U.symbol](){return this._content?U.getPrintFunction(this._content):null}get content(){return this._content}get toolbar(){return this._toolbar}get contentHeader(){return this._contentHeader}get isRevealed(){return this._isRevealed}get revealed(){return this._revealed}onActivateRequest(e){this._isRevealed?this._focusContent():this._spinner.node.focus()}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("mousedown",this._evtMouseDown,!0)}onBeforeDetach(e){this.node.removeEventListener("mousedown",this._evtMouseDown,!0),super.onBeforeDetach(e)}onCloseRequest(e){this.dispose()}onUpdateRequest(e){this._content&&v.MessageLoop.sendMessage(this._content,e)}_disposeSpinner(){this.node.removeChild(this._spinner.node),this._spinner.dispose(),this.removeClass("jp-MainAreaWidget-ContainStrict")}_updateTitle(){if(this._changeGuard||!this.content)return;this._changeGuard=!0;const e=this.content;this.title.label=e.title.label,this.title.mnemonic=e.title.mnemonic,this.title.icon=e.title.icon,this.title.iconClass=e.title.iconClass,this.title.iconLabel=e.title.iconLabel,this.title.caption=e.title.caption,this.title.className=e.title.className,this.title.dataset=e.title.dataset,this._changeGuard=!1}_updateContentTitle(){if(this._changeGuard||!this.content)return;this._changeGuard=!0;const e=this.content;e.title.label=this.title.label,e.title.mnemonic=this.title.mnemonic,e.title.icon=this.title.icon,e.title.iconClass=this.title.iconClass,e.title.iconLabel=this.title.iconLabel,e.title.caption=this.title.caption,e.title.className=this.title.className,e.title.dataset=this.title.dataset,this._changeGuard=!1}_focusContent(){this.content&&(this.content.node.contains(document.activeElement)||this.content.node.focus(),this.content.activate())}}var ve,ye=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};!function(e){function t(e,t){var s,i;const o=t(e);return o.id=e.id,o.title.label||(o.title.label=null!==(s=e.label)&&void 0!==s?s:J.Text.titleCase(o.id.trim())),e.icon&&(o.title.icon=r.LabIcon.resolve({icon:e.icon})),void 0!==e.mnemonic&&(o.title.mnemonic=e.mnemonic),null===(i=e.items)||void 0===i||i.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(s=t.rank)&&void 0!==s?s:1/0)})).map((e=>{n(e,o,t)})),o}function n(e,n,s){const{submenu:i}=e,o=ye(e,["submenu"]);n.addItem(Object.assign(Object.assign({},o),{submenu:i?t(i,s):null}))}function s(e,t,i){var r;e.disabled?t.dispose():null===(r=e.items)||void 0===r||r.forEach((e=>{var r,a;const l=null==t?void 0:t.items.find(((t,n)=>{var s,i,o;return t.type===e.type&&t.command===(null!==(s=e.command)&&void 0!==s?s:"")&&(null===(i=t.submenu)||void 0===i?void 0:i.id)===(null===(o=e.submenu)||void 0===o?void 0:o.id)}));if(l&&"separator"!==e.type)if(e.disabled)t.removeItem(l);else switch(null!==(r=e.type)&&void 0!==r?r:"command"){case"command":e.command&&(o.JSONExt.deepEqual(l.args,null!==(a=e.args)&&void 0!==a?a:{})||n(e,t,i));break;case"submenu":e.submenu&&s(e.submenu,l.submenu,i)}else n(e,t,i)}))}e.createMenus=function(e,n){return e.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(s=t.rank)&&void 0!==s?s:1/0)})).map((e=>t(e,n)))},e.addContextItem=function(e,n,s){const{submenu:i}=e,o=ye(e,["submenu"]);n.addItem(Object.assign(Object.assign({},o),{submenu:i?t(i,s):null}))},e.updateMenus=function(e,n,i){const o=[];return n.forEach((n=>{const r=e.find((e=>e.id===n.id));r?s(n,r,i):n.disabled||o.push(t(n,i))})),e.push(...o),o}}(ve||(ve={}));var we=n(24330),Ce=n.n(we);class Ee{static reg(e){return new RegExp("^"+e+"$","i")}}Ee.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0?([.][0-9]+)?)"},Ee.B={angle:`(${Ee.N.number}(deg|rad|grad|turn)|0)`,frequency:`${Ee.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${Ee.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${Ee.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${Ee.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${Ee.N.number}%`,percentage_pos:`${Ee.N.number_pos}%`,percentage_zero_hundred:`${Ee.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${Ee.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},Ee.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},Ee._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${Ee.N.integer_zero_ff}|${Ee.N.number_zero_one}|${Ee.B.percentage_zero_hundred})\s*\)`},Ee._C={alpha:`${Ee.N.integer_zero_ff}|${Ee.N.number_zero_one}|${Ee.B.percentage_zero_hundred}`,alphavalue:Ee.N.number_zero_one,bg_position:`((${Ee.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${Ee.B.length_pos}|${Ee.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${Ee.B.length}`,bottom:`${Ee.B.length}|auto`,color:`${Ee._COLOR.hex}|${Ee._COLOR.rgb}|${Ee._COLOR.rgba}|${Ee._COLOR.name}`,color_stop_length:`(${Ee.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${Ee.B.len_or_perc}`,family_name:`${Ee.B.string}|(${Ee.B.ident}\\s*)+`,image_decl:Ee.B.url,left:`${Ee.B.length}|auto`,loose_quotable_words:`(${Ee.B.ident})+`,margin_width:`${Ee.B.len_or_perc}|auto`,padding_width:`${Ee.B.length_pos}|${Ee.B.percentage_pos}`,page_url:Ee.B.url,position:`((${Ee.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${Ee.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${Ee.B.length}|(${Ee.B.len_or_perc})\\s+(${Ee.B.len_or_perc})`,top:`${Ee.B.length}|auto`},Ee._C1={image_list:`image\\(\\s*(${Ee.B.url})*\\s*(${Ee.B.url}|${Ee._C.color})\\s*\\)`,linear_color_stop:`(${Ee._C.color})(\\s*${Ee._C.color_stop_length})?`,shadow:`((${Ee._C.color})\\s+((${Ee.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${Ee.B.length})\\s*){2,4}\\s*(${Ee._C.color})?)`},Ee._C2={color_stop_list:`((${Ee._C1.linear_color_stop})(\\s*(${Ee._C.linear_color_hint}))?\\s*,\\s*)+(${Ee._C1.linear_color_stop})`,shape:`rect\\(\\s*(${Ee._C.top})\\s*,\\s*(${Ee._C.right})\\s*,\\s*(${Ee._C.bottom})\\s*,\\s*(${Ee._C.left})\\s*\\)`},Ee._C3={linear_gradient:`linear-gradient\\((((${Ee.B.angle})|to\\s+(${Ee.A.side_or_corner}))\\s*,\\s*)?\\s*(${Ee._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${Ee.A.ending_shape})|(${Ee._C.size}))\\s*)*\\s*(at\\s+${Ee._C.position})?\\s*,\\s*)?\\s*(${Ee._C2.color_stop_list})\\s*\\)`},Ee._C4={image:`${Ee.B.url}|${Ee._C3.linear_gradient}|${Ee._C3.radial_gradient}|${Ee._C1.image_list}`,bg_image:`(${Ee.B.url}|${Ee._C3.linear_gradient}|${Ee._C3.radial_gradient}|${Ee._C1.image_list})|none`},Ee.C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ee._C),Ee._C1),Ee._C2),Ee._C3),Ee._C4),Ee.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},Ee._CP={background_attachment:`${Ee.A.attachment}(,\\s*${Ee.A.attachment})*`,background_color:Ee.C.color,background_origin:`${Ee.A.box}(,\\s*${Ee.A.box})*`,background_repeat:`${Ee.A.repeat_style}(,\\s*${Ee.A.repeat_style})*`,border:`((${Ee.C.border_width}|${Ee.A.border_style}|${Ee.C.color})\\s*){1,3}`,border_radius:`((${Ee.B.len_or_perc})\\s*){1,4}(\\/\\s*((${Ee.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${Ee.B.length}\\s*(${Ee.B.length})?`,border_top_color:Ee.C.color,border_top_style:Ee.A.border_style,border_width:`((${Ee.C.border_width})\\s*){1,4}`,color:Ee.C.color,cursor:`(${Ee.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${Ee.A.display_inside}|${Ee.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:Ee.A.display_outside,elevation:`${Ee.B.angle}|below|level|above|higher|lower`,font_family:`(${Ee.C.family_name}|${Ee.A.generic_family})(,\\s*(${Ee.C.family_name}|${Ee.A.generic_family}))*`,height:`${Ee.B.length}|${Ee.B.percentage}|auto`,letter_spacing:`normal|${Ee.B.length}`,list_style_image:`${Ee.C.image}|none`,margin_right:Ee.C.margin_width,max_height:`${Ee.B.length_pos}|${Ee.B.percentage_pos}|none|auto`,min_height:`${Ee.B.length_pos}|${Ee.B.percentage_pos}|auto`,opacity:Ee.C.alphavalue,outline_color:`${Ee.C.color}|invert`,outline_width:Ee.C.border_width,padding:`((${Ee.C.padding_width})\\s*){1,4}`,padding_top:Ee.C.padding_width,pitch_range:Ee.N.number,right:`${Ee.B.length}|${Ee.B.percentage}|auto`,stress:Ee.N.number,text_indent:`${Ee.B.length}|${Ee.B.percentage}`,text_shadow:`none|${Ee.C.shadow}(,\\s*(${Ee.C.shadow}))*`,volume:`${Ee.N.number_pos}|${Ee.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:Ee.AP.overflow_wrap,zoom:`normal|${Ee.N.number_pos}|${Ee.B.percentage_pos}`,backface_visibility:Ee.AP.visibility,background_clip:`${Ee.A.box}(,\\s*(${Ee.A.box}))*`,background_position:`${Ee.C.bg_position}(,\\s*(${Ee.C.bg_position}))*`,border_bottom_color:Ee.C.color,border_bottom_style:Ee.A.border_style,border_color:`((${Ee.C.color})\\s*){1,4}`,border_left_color:Ee.C.color,border_right_color:Ee.C.color,border_style:`((${Ee.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${Ee.B.length}|${Ee.B.percentage})(\\s*(${Ee.B.length}|${Ee.B.percentage}))?`,border_top_width:Ee.C.border_width,box_shadow:`none|${Ee.C.shadow}(,\\s*(${Ee.C.shadow}))*`,clip:`${Ee.C.shape}|auto`,display_inside:Ee.A.display_inside,font_size:`${Ee.A.absolute_size}|${Ee.A.relative_size}|${Ee.B.length_pos}|${Ee.B.percentage_pos}`,line_height:`normal|${Ee.N.number_pos}|${Ee.B.length_pos}|${Ee.B.percentage_pos}`,margin_left:Ee.C.margin_width,max_width:`${Ee.B.length_pos}|${Ee.B.percentage_pos}|none|auto`,outline_style:Ee.A.border_style,padding_bottom:Ee.C.padding_width,padding_right:Ee.C.padding_width,perspective:`none|${Ee.B.length}`,richness:Ee.N.number,text_overflow:`((clip|ellipsis|${Ee.B.string})\\s*){1,2}`,top:`${Ee.B.length}|${Ee.B.percentage}|auto`,width:`${Ee.B.length_pos}|${Ee.B.percentage_pos}|auto`,z_index:`auto|${Ee.B.z_index}`,background:`(((${Ee.C.bg_position}\\s*(\\/\\s*${Ee.C.bg_size})?)|(${Ee.A.repeat_style})|(${Ee.A.attachment})|(${Ee.A.bg_origin})|(${Ee.C.bg_image})|(${Ee.C.color}))\\s*)+`,background_size:`${Ee.C.bg_size}(,\\s*${Ee.C.bg_size})*`,border_bottom_left_radius:`(${Ee.B.length}|${Ee.B.percentage})(\\s*(${Ee.B.length}|${Ee.B.percentage}))?`,border_bottom_width:Ee.C.border_width,border_left_style:Ee.A.border_style,border_right_style:Ee.A.border_style,border_top:`((${Ee.C.border_width}|${Ee.A.border_style}|${Ee.C.color})\\s*){1,3}`,bottom:`${Ee.B.len_or_perc}|auto`,list_style:`((${Ee.AP.list_style_type}|${Ee.AP.list_style_position}|${Ee.C.image}|none})\\s*){1,3}`,margin_top:Ee.C.margin_width,outline:`((${Ee.C.color}|invert|${Ee.A.border_style}|${Ee.C.border_width})\\s*){1,3}`,overflow_y:Ee.AP.overflow_x,pitch:`${Ee.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${Ee.B.len_or_perc}`,word_spacing:`normal|${Ee.B.length}`,background_image:`${Ee.C.bg_image}(,\\s*${Ee.C.bg_image})*`,border_bottom_right_radius:`(${Ee.B.length}|${Ee.B.percentage})(\\s*(${Ee.B.length}|${Ee.B.percentage}))?`,border_left_width:Ee.C.border_width,border_right_width:Ee.C.border_width,left:`${Ee.B.len_or_perc}|auto`,margin_bottom:Ee.C.margin_width,pause_after:`${Ee.B.time}|${Ee.B.percentage}`,speech_rate:`${Ee.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${Ee.B.time}(,\\s*${Ee.B.time})*`,border_bottom:`((${Ee.C.border_width}|${Ee.A.border_style}|${Ee.C.color})\\s*){1,3}`,border_right:`((${Ee.C.border_width}|${Ee.A.border_style}|${Ee.C.color})\\s*){1,3}`,margin:`((${Ee.C.margin_width})\\s*){1,4}`,padding_left:Ee.C.padding_width,border_left:`((${Ee.C.border_width}|${Ee.A.border_style}|${Ee.C.color})\\s*){1,3}`,quotes:`(${Ee.B.string}\\s*${Ee.B.string})+|none`,border_top_right_radius:`(${Ee.B.length}|${Ee.B.percentage})(\\s*(${Ee.B.length}|${Ee.B.percentage}))?`,min_width:`${Ee.B.length_pos}|${Ee.B.percentage_pos}|auto`},Ee._CP1={font:`(((((${Ee.AP.font_style}|${Ee.AP.font_variant}|${Ee.AP.font_weight})\\s*){1,3})?\\s*(${Ee._CP.font_size})\\s*(\\/\\s*(${Ee._CP.line_height}))?\\s+(${Ee._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},Ee.CP=Object.assign(Object.assign({},Ee._CP),Ee._CP1),Ee.BORDER_COLLAPSE=Ee.reg(Ee.AP.border_collapse),Ee.BOX=Ee.reg(Ee.AP.box),Ee.BOX_SIZING=Ee.reg(Ee.AP.box_sizing),Ee.CAPTION_SIDE=Ee.reg(Ee.AP.caption_side),Ee.CLEAR=Ee.reg(Ee.AP.clear),Ee.DIRECTION=Ee.reg(Ee.AP.direction),Ee.EMPTY_CELLS=Ee.reg(Ee.AP.empty_cells),Ee.FLOAT=Ee.reg(Ee.AP.float),Ee.FONT_STRETCH=Ee.reg(Ee.AP.font_stretch),Ee.FONT_STYLE=Ee.reg(Ee.AP.font_style),Ee.FONT_VARIANT=Ee.reg(Ee.AP.font_variant),Ee.FONT_WEIGHT=Ee.reg(Ee.AP.font_weight),Ee.LIST_STYLE_POSITION=Ee.reg(Ee.AP.list_style_position),Ee.LIST_STYLE_TYPE=Ee.reg(Ee.AP.list_style_type),Ee.OVERFLOW=Ee.reg(Ee.AP.overflow),Ee.OVERFLOW_WRAP=Ee.reg(Ee.AP.overflow_wrap),Ee.OVERFLOW_X=Ee.reg(Ee.AP.overflow_x),Ee.PAGE_BREAK_AFTER=Ee.reg(Ee.AP.page_break_after),Ee.PAGE_BREAK_BEFORE=Ee.reg(Ee.AP.page_break_before),Ee.PAGE_BREAK_INSIDE=Ee.reg(Ee.AP.page_break_inside),Ee.POSITION=Ee.reg(Ee.AP.position),Ee.RESIZE=Ee.reg(Ee.AP.resize),Ee.SPEAK=Ee.reg(Ee.AP.speak),Ee.SPEAK_HEADER=Ee.reg(Ee.AP.speak_header),Ee.SPEAK_NUMERAL=Ee.reg(Ee.AP.speak_numeral),Ee.SPEAK_PUNCTUATION=Ee.reg(Ee.AP.speak_punctuation),Ee.TABLE_LAYOUT=Ee.reg(Ee.AP.table_layout),Ee.TEXT_ALIGN=Ee.reg(Ee.AP.text_align),Ee.TEXT_DECORATION=Ee.reg(Ee.AP.text_decoration),Ee.TEXT_TRANSFORM=Ee.reg(Ee.AP.text_transform),Ee.TEXT_WRAP=Ee.reg(Ee.AP.text_wrap),Ee.UNICODE_BIDI=Ee.reg(Ee.AP.unicode_bidi),Ee.VISIBILITY=Ee.reg(Ee.AP.visibility),Ee.WHITE_SPACE=Ee.reg(Ee.AP.white_space),Ee.WORD_BREAK=Ee.reg(Ee.AP.word_break),Ee.BACKGROUND_ATTACHMENT=Ee.reg(Ee.CP.background_attachment),Ee.BACKGROUND_COLOR=Ee.reg(Ee.CP.background_color),Ee.BACKGROUND_ORIGIN=Ee.reg(Ee.CP.background_origin),Ee.BACKGROUND_REPEAT=Ee.reg(Ee.CP.background_repeat),Ee.BORDER=Ee.reg(Ee.CP.border),Ee.BORDER_RADIUS=Ee.reg(Ee.CP.border_radius),Ee.BORDER_SPACING=Ee.reg(Ee.CP.border_spacing),Ee.BORDER_TOP_COLOR=Ee.reg(Ee.CP.border_top_color),Ee.BORDER_TOP_STYLE=Ee.reg(Ee.CP.border_top_style),Ee.BORDER_WIDTH=Ee.reg(Ee.CP.border_width),Ee.COLOR=Ee.reg(Ee.CP.color),Ee.CURSOR=Ee.reg(Ee.CP.cursor),Ee.DISPLAY=Ee.reg(Ee.CP.display),Ee.DISPLAY_OUTSIDE=Ee.reg(Ee.CP.display_outside),Ee.ELEVATION=Ee.reg(Ee.CP.elevation),Ee.FONT_FAMILY=Ee.reg(Ee.CP.font_family),Ee.HEIGHT=Ee.reg(Ee.CP.height),Ee.LETTER_SPACING=Ee.reg(Ee.CP.letter_spacing),Ee.LIST_STYLE_IMAGE=Ee.reg(Ee.CP.list_style_image),Ee.MARGIN_RIGHT=Ee.reg(Ee.CP.margin_right),Ee.MAX_HEIGHT=Ee.reg(Ee.CP.max_height),Ee.MIN_HEIGHT=Ee.reg(Ee.CP.min_height),Ee.OPACITY=Ee.reg(Ee.CP.opacity),Ee.OUTLINE_COLOR=Ee.reg(Ee.CP.outline_color),Ee.OUTLINE_WIDTH=Ee.reg(Ee.CP.outline_width),Ee.PADDING=Ee.reg(Ee.CP.padding),Ee.PADDING_TOP=Ee.reg(Ee.CP.padding_top),Ee.PITCH_RANGE=Ee.reg(Ee.CP.pitch_range),Ee.RIGHT=Ee.reg(Ee.CP.right),Ee.STRESS=Ee.reg(Ee.CP.stress),Ee.TEXT_INDENT=Ee.reg(Ee.CP.text_indent),Ee.TEXT_SHADOW=Ee.reg(Ee.CP.text_shadow),Ee.VOLUME=Ee.reg(Ee.CP.volume),Ee.WORD_WRAP=Ee.reg(Ee.CP.word_wrap),Ee.ZOOM=Ee.reg(Ee.CP.zoom),Ee.BACKFACE_VISIBILITY=Ee.reg(Ee.CP.backface_visibility),Ee.BACKGROUND_CLIP=Ee.reg(Ee.CP.background_clip),Ee.BACKGROUND_POSITION=Ee.reg(Ee.CP.background_position),Ee.BORDER_BOTTOM_COLOR=Ee.reg(Ee.CP.border_bottom_color),Ee.BORDER_BOTTOM_STYLE=Ee.reg(Ee.CP.border_bottom_style),Ee.BORDER_COLOR=Ee.reg(Ee.CP.border_color),Ee.BORDER_LEFT_COLOR=Ee.reg(Ee.CP.border_left_color),Ee.BORDER_RIGHT_COLOR=Ee.reg(Ee.CP.border_right_color),Ee.BORDER_STYLE=Ee.reg(Ee.CP.border_style),Ee.BORDER_TOP_LEFT_RADIUS=Ee.reg(Ee.CP.border_top_left_radius),Ee.BORDER_TOP_WIDTH=Ee.reg(Ee.CP.border_top_width),Ee.BOX_SHADOW=Ee.reg(Ee.CP.box_shadow),Ee.CLIP=Ee.reg(Ee.CP.clip),Ee.DISPLAY_INSIDE=Ee.reg(Ee.CP.display_inside),Ee.FONT_SIZE=Ee.reg(Ee.CP.font_size),Ee.LINE_HEIGHT=Ee.reg(Ee.CP.line_height),Ee.MARGIN_LEFT=Ee.reg(Ee.CP.margin_left),Ee.MAX_WIDTH=Ee.reg(Ee.CP.max_width),Ee.OUTLINE_STYLE=Ee.reg(Ee.CP.outline_style),Ee.PADDING_BOTTOM=Ee.reg(Ee.CP.padding_bottom),Ee.PADDING_RIGHT=Ee.reg(Ee.CP.padding_right),Ee.PERSPECTIVE=Ee.reg(Ee.CP.perspective),Ee.RICHNESS=Ee.reg(Ee.CP.richness),Ee.TEXT_OVERFLOW=Ee.reg(Ee.CP.text_overflow),Ee.TOP=Ee.reg(Ee.CP.top),Ee.WIDTH=Ee.reg(Ee.CP.width),Ee.Z_INDEX=Ee.reg(Ee.CP.z_index),Ee.BACKGROUND=Ee.reg(Ee.CP.background),Ee.BACKGROUND_SIZE=Ee.reg(Ee.CP.background_size),Ee.BORDER_BOTTOM_LEFT_RADIUS=Ee.reg(Ee.CP.border_bottom_left_radius),Ee.BORDER_BOTTOM_WIDTH=Ee.reg(Ee.CP.border_bottom_width),Ee.BORDER_LEFT_STYLE=Ee.reg(Ee.CP.border_left_style),Ee.BORDER_RIGHT_STYLE=Ee.reg(Ee.CP.border_right_style),Ee.BORDER_TOP=Ee.reg(Ee.CP.border_top),Ee.BOTTOM=Ee.reg(Ee.CP.bottom),Ee.LIST_STYLE=Ee.reg(Ee.CP.list_style),Ee.MARGIN_TOP=Ee.reg(Ee.CP.margin_top),Ee.OUTLINE=Ee.reg(Ee.CP.outline),Ee.OVERFLOW_Y=Ee.reg(Ee.CP.overflow_y),Ee.PITCH=Ee.reg(Ee.CP.pitch),Ee.VERTICAL_ALIGN=Ee.reg(Ee.CP.vertical_align),Ee.WORD_SPACING=Ee.reg(Ee.CP.word_spacing),Ee.BACKGROUND_IMAGE=Ee.reg(Ee.CP.background_image),Ee.BORDER_BOTTOM_RIGHT_RADIUS=Ee.reg(Ee.CP.border_bottom_right_radius),Ee.BORDER_LEFT_WIDTH=Ee.reg(Ee.CP.border_left_width),Ee.BORDER_RIGHT_WIDTH=Ee.reg(Ee.CP.border_right_width),Ee.LEFT=Ee.reg(Ee.CP.left),Ee.MARGIN_BOTTOM=Ee.reg(Ee.CP.margin_bottom),Ee.PAUSE_AFTER=Ee.reg(Ee.CP.pause_after),Ee.SPEECH_RATE=Ee.reg(Ee.CP.speech_rate),Ee.TRANSITION_DURATION=Ee.reg(Ee.CP.transition_duration),Ee.BORDER_BOTTOM=Ee.reg(Ee.CP.border_bottom),Ee.BORDER_RIGHT=Ee.reg(Ee.CP.border_right),Ee.MARGIN=Ee.reg(Ee.CP.margin),Ee.PADDING_LEFT=Ee.reg(Ee.CP.padding_left),Ee.BORDER_LEFT=Ee.reg(Ee.CP.border_left),Ee.FONT=Ee.reg(Ee.CP.font),Ee.QUOTES=Ee.reg(Ee.CP.quotes),Ee.BORDER_TOP_RIGHT_RADIUS=Ee.reg(Ee.CP.border_top_right_radius),Ee.MIN_WIDTH=Ee.reg(Ee.CP.min_width);class Te{constructor(){this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[Ee.BACKFACE_VISIBILITY],background:[Ee.BACKGROUND],"background-attachment":[Ee.BACKGROUND_ATTACHMENT],"background-clip":[Ee.BACKGROUND_CLIP],"background-color":[Ee.BACKGROUND_COLOR],"background-image":[Ee.BACKGROUND_IMAGE],"background-origin":[Ee.BACKGROUND_ORIGIN],"background-position":[Ee.BACKGROUND_POSITION],"background-repeat":[Ee.BACKGROUND_REPEAT],"background-size":[Ee.BACKGROUND_SIZE],border:[Ee.BORDER],"border-bottom":[Ee.BORDER_BOTTOM],"border-bottom-color":[Ee.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[Ee.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[Ee.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[Ee.BORDER_BOTTOM_STYLE],"border-bottom-width":[Ee.BORDER_BOTTOM_WIDTH],"border-collapse":[Ee.BORDER_COLLAPSE],"border-color":[Ee.BORDER_COLOR],"border-left":[Ee.BORDER_LEFT],"border-left-color":[Ee.BORDER_LEFT_COLOR],"border-left-style":[Ee.BORDER_LEFT_STYLE],"border-left-width":[Ee.BORDER_LEFT_WIDTH],"border-radius":[Ee.BORDER_RADIUS],"border-right":[Ee.BORDER_RIGHT],"border-right-color":[Ee.BORDER_RIGHT_COLOR],"border-right-style":[Ee.BORDER_RIGHT_STYLE],"border-right-width":[Ee.BORDER_RIGHT_WIDTH],"border-spacing":[Ee.BORDER_SPACING],"border-style":[Ee.BORDER_STYLE],"border-top":[Ee.BORDER_TOP],"border-top-color":[Ee.BORDER_TOP_COLOR],"border-top-left-radius":[Ee.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[Ee.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[Ee.BORDER_TOP_STYLE],"border-top-width":[Ee.BORDER_TOP_WIDTH],"border-width":[Ee.BORDER_WIDTH],bottom:[Ee.BOTTOM],box:[Ee.BOX],"box-shadow":[Ee.BOX_SHADOW],"box-sizing":[Ee.BOX_SIZING],"caption-side":[Ee.CAPTION_SIDE],clear:[Ee.CLEAR],clip:[Ee.CLIP],color:[Ee.COLOR],cursor:[Ee.CURSOR],direction:[Ee.DIRECTION],display:[Ee.DISPLAY],"display-inside":[Ee.DISPLAY_INSIDE],"display-outside":[Ee.DISPLAY_OUTSIDE],elevation:[Ee.ELEVATION],"empty-cells":[Ee.EMPTY_CELLS],float:[Ee.FLOAT],font:[Ee.FONT],"font-family":[Ee.FONT_FAMILY],"font-size":[Ee.FONT_SIZE],"font-stretch":[Ee.FONT_STRETCH],"font-style":[Ee.FONT_STYLE],"font-variant":[Ee.FONT_VARIANT],"font-weight":[Ee.FONT_WEIGHT],height:[Ee.HEIGHT],left:[Ee.LEFT],"letter-spacing":[Ee.LETTER_SPACING],"line-height":[Ee.LINE_HEIGHT],"list-style":[Ee.LIST_STYLE],"list-style-image":[Ee.LIST_STYLE_IMAGE],"list-style-position":[Ee.LIST_STYLE_POSITION],"list-style-type":[Ee.LIST_STYLE_TYPE],margin:[Ee.MARGIN],"margin-bottom":[Ee.MARGIN_BOTTOM],"margin-left":[Ee.MARGIN_LEFT],"margin-right":[Ee.MARGIN_RIGHT],"margin-top":[Ee.MARGIN_TOP],"max-height":[Ee.MAX_HEIGHT],"max-width":[Ee.MAX_WIDTH],"min-height":[Ee.MIN_HEIGHT],"min-width":[Ee.MIN_WIDTH],opacity:[Ee.OPACITY],outline:[Ee.OUTLINE],"outline-color":[Ee.OUTLINE_COLOR],"outline-style":[Ee.OUTLINE_STYLE],"outline-width":[Ee.OUTLINE_WIDTH],overflow:[Ee.OVERFLOW],"overflow-wrap":[Ee.OVERFLOW_WRAP],"overflow-x":[Ee.OVERFLOW_X],"overflow-y":[Ee.OVERFLOW_Y],padding:[Ee.PADDING],"padding-bottom":[Ee.PADDING_BOTTOM],"padding-left":[Ee.PADDING_LEFT],"padding-right":[Ee.PADDING_RIGHT],"padding-top":[Ee.PADDING_TOP],"page-break-after":[Ee.PAGE_BREAK_AFTER],"page-break-before":[Ee.PAGE_BREAK_BEFORE],"page-break-inside":[Ee.PAGE_BREAK_INSIDE],"pause-after":[Ee.PAUSE_AFTER],perspective:[Ee.PERSPECTIVE],pitch:[Ee.PITCH],"pitch-range":[Ee.PITCH_RANGE],position:[Ee.POSITION],quotes:[Ee.QUOTES],resize:[Ee.RESIZE],richness:[Ee.RICHNESS],right:[Ee.RIGHT],speak:[Ee.SPEAK],"speak-header":[Ee.SPEAK_HEADER],"speak-numeral":[Ee.SPEAK_NUMERAL],"speak-punctuation":[Ee.SPEAK_PUNCTUATION],"speech-rate":[Ee.SPEECH_RATE],stress:[Ee.STRESS],"table-layout":[Ee.TABLE_LAYOUT],"text-align":[Ee.TEXT_ALIGN],"text-decoration":[Ee.TEXT_DECORATION],"text-indent":[Ee.TEXT_INDENT],"text-overflow":[Ee.TEXT_OVERFLOW],"text-shadow":[Ee.TEXT_SHADOW],"text-transform":[Ee.TEXT_TRANSFORM],"text-wrap":[Ee.TEXT_WRAP],top:[Ee.TOP],"unicode-bidi":[Ee.UNICODE_BIDI],"vertical-align":[Ee.VERTICAL_ALIGN],visibility:[Ee.VISIBILITY],volume:[Ee.VOLUME],"white-space":[Ee.WHITE_SPACE],width:[Ee.WIDTH],"word-break":[Ee.WORD_BREAK],"word-spacing":[Ee.WORD_SPACING],"word-wrap":[Ee.WORD_WRAP],"z-index":[Ee.Z_INDEX],zoom:[Ee.ZOOM]}},transformTags:{a:Ce().simpleTransform("a",{rel:"nofollow"}),input:Ce().simpleTransform("input",{disabled:"disabled"})},allowedSchemesByTag:{img:Ce().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return Ce()(e,Object.assign(Object.assign({},this._options),t||{}))}}const ke=new Te;function Oe(e,t){let n=1/0,s=null;const i=/\b\w/g;for(;;){let o=i.exec(e);if(!o)break;let r=f.StringExt.matchSumOfDeltas(e,t,o.index);if(!r)break;r&&r.score<=n&&(n=r.score,s=r.indices)}return s&&n!==1/0?{score:n,indices:s}:null}const Re=(e,t,n)=>s=>t?Oe(s,e.toLowerCase()):(n||(s=s.toLocaleLowerCase(),e=e.toLocaleLowerCase()),-1===s.indexOf(e)?null:{indices:[...Array(s.length).keys()].map((e=>e+1))}),Pe=e=>{var t;const[n,s]=(0,y.useState)(null!==(t=e.initialQuery)&&void 0!==t?t:"");return e.forceRefresh&&(0,y.useEffect)((()=>{e.updateFilter((e=>({})))}),[]),(0,y.useEffect)((()=>{void 0!==e.initialQuery&&e.updateFilter(Re(e.initialQuery,e.useFuzzyFilter,e.caseSensitive),e.initialQuery)}),[]),w().createElement(r.InputGroup,{type:"text",rightIcon:"ui-components:search",placeholder:e.placeholder,onChange:t=>{const n=t.target;s(n.value),e.updateFilter(Re(n.value,e.useFuzzyFilter,e.caseSensitive),n.value)},className:"jp-FilterBox",value:n})},Se=e=>E.create(w().createElement(Pe,{updateFilter:e.updateFilter,useFuzzyFilter:e.useFuzzyFilter,placeholder:e.placeholder,forceRefresh:e.forceRefresh,caseSensitive:e.caseSensitive})),Ae=new o.Token("@jupyterlab/apputils:ISplashScreen");var Ie,xe=n(36e3);class De{constructor(e){this._current=null,this._links=[],this._overrides={},this._overrideProps={},this._outstanding=null,this._pending=0,this._requests={},this._themes={},this._themeChanged=new a.Signal(this);const{host:t,key:n,splash:s,url:i}=e;this.translator=e.translator||V.nullTranslator,this._trans=this.translator.load("jupyterlab");const o=e.settings;this._base=i,this._host=t,this._splash=s||null,o.load(n).then((e=>{this._settings=e,this._initOverrideProps(),this._settings.changed.connect(this._loadSettings,this),this._loadSettings()}))}get theme(){return this._current}get themes(){return Object.keys(this._themes)}get themeChanged(){return this._themeChanged}getCSS(e){var t;return null!==(t=this._overrides[e])&&void 0!==t?t:getComputedStyle(document.documentElement).getPropertyValue(`--jp-${e}`)}loadCSS(e){const t=this._base,n=J.URLExt.isLocal(e)?J.URLExt.join(t,e):e,s=this._links;return new Promise(((e,t)=>{const i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",n),i.addEventListener("load",(()=>{e(void 0)})),i.addEventListener("error",(()=>{t(`Stylesheet failed to load: ${n}`)})),document.body.appendChild(i),s.push(i),this.loadCSSOverrides()}))}loadCSSOverrides(){var e;const t=null!==(e=this._settings.user.overrides)&&void 0!==e?e:{};Object.keys(Object.assign(Object.assign({},this._overrides),t)).forEach((e=>{const n=t[e];n&&this.validateCSS(e,n)?document.documentElement.style.setProperty(`--jp-${e}`,n):(delete t[e],document.documentElement.style.removeProperty(`--jp-${e}`))})),this._overrides=t}validateCSS(e,t){const n=this._overrideProps[e];return n?!!CSS.supports(n,t)||(console.warn(`CSS validation failed: invalid value.\nkey: '${e}', val: '${t}', prop: '${n}'`),!1):(console.warn(`CSS validation failed: could not find property corresponding to key.\nkey: '${e}', val: '${t}'`),!1)}register(e){const{name:t}=e,n=this._themes;if(n[t])throw new Error(`Theme already registered for ${t}`);return n[t]=e,new xe.DisposableDelegate((()=>{delete n[t]}))}setCSSOverride(e,t){return this._settings.set("overrides",Object.assign(Object.assign({},this._overrides),{[e]:t}))}setTheme(e){return this._settings.set("theme",e)}isLight(e){return this._themes[e].isLight}incrFontSize(e){return this._incrFontSize(e,!0)}decrFontSize(e){return this._incrFontSize(e,!1)}themeScrollbars(e){return!!this._settings.composite["theme-scrollbars"]&&!!this._themes[e].themeScrollbars}isToggledThemeScrollbars(){return!!this._settings.composite["theme-scrollbars"]}toggleThemeScrollbars(){return this._settings.set("theme-scrollbars",!this._settings.composite["theme-scrollbars"])}getDisplayName(e){var t,n;return null!==(n=null===(t=this._themes[e])||void 0===t?void 0:t.displayName)&&void 0!==n?n:e}_incrFontSize(e,t=!0){var n;const s=(null!==(n=this.getCSS(e))&&void 0!==n?n:"13px").split(/([a-zA-Z]+)/),i=(t?1:-1)*("em"===s[1]?.1:1);return this.setCSSOverride(e,`${Number(s[0])+i}${s[1]}`)}_initOverrideProps(){const e=this._settings.schema.definitions.cssOverrides.properties;Object.keys(e).forEach((t=>{this._overrideProps[t]=e[t].description}))}_loadSettings(){const e=this._outstanding,t=this._pending,n=this._requests;t&&(window.clearTimeout(t),this._pending=0);const s=this._settings,i=this._themes,o=s.composite.theme;if(e)return e.then((()=>{this._loadSettings()})).catch((()=>{this._loadSettings()})),void(this._outstanding=null);if(n[o]=n[o]?n[o]+1:1,i[o])return this._outstanding=this._loadTheme(o),void delete n[o];if(n[o]>20){const e=s.default("theme");return delete n[o],i[e]?(console.warn(`Could not load theme ${o}, using default ${e}.`),void(this._outstanding=this._loadTheme(e))):void this._onError(this._trans.__("Neither theme %1 nor default %2 loaded.",o,e))}this._pending=window.setTimeout((()=>{this._loadSettings()}),75)}_loadTheme(e){var t;const n=this._current,s=this._links,i=this._themes,o=this._splash?this._splash.show(i[e].isLight):new xe.DisposableDelegate((()=>{}));s.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)})),s.length=0;const r=null===(t=this._settings.schema.properties)||void 0===t?void 0:t.theme;r&&(r.enum=Object.keys(i).map((e=>{var t;return null!==(t=i[e].displayName)&&void 0!==t?t:e})));const a=n?i[n].unload():Promise.resolve();return Promise.all([a,i[e].load()]).then((()=>{this._current=e,this._themeChanged.emit({name:"theme",oldValue:n,newValue:e}),this._host.hide(),requestAnimationFrame((()=>{this._host.show(),Ie.fitAll(this._host),o.dispose()}))})).catch((e=>{this._onError(e),o.dispose()}))}_onError(e){A({title:this._trans.__("Error Loading Theme"),body:String(e),buttons:[x.okButton({label:this._trans.__("OK")})]})}}!function(e){e.fitAll=function e(t){(0,f.each)(t.children(),e),t.fit()}}(Ie||(Ie={}));const Ne=new o.Token("@jupyterlab/apputils:ISessionContextDialogs"),Be=new o.Token("@jupyterlab/apputils:IThemeManager"),$e=new o.Token("@jupyterlab/apputils:ISanitizer"),Le=new o.Token("@jupyterlab/apputils:IToolbarWidgetRegistry");var Me=n(86839),je=n(68930);const We="jupyter.lab.toolbars";function Fe(e,t,n,s,i,r="toolbar"){const a=new Me.a({itemCmp:(e,t)=>o.JSONExt.deepEqual(e,t)});return async function(e,t,n,s,i,r="toolbar"){var a;const l=i.load("jupyterlab");let d=null,c={},h=!0;try{function g(e){var i,o;c={};const a=Object.keys(t.plugins).filter((e=>e!==s)).map((e=>{var s,i;const o=null!==(i=(null!==(s=t.plugins[e].schema[We])&&void 0!==s?s:{})[n])&&void 0!==i?i:[];return c[e]=o,o})).concat([null!==(o=(null!==(i=e[We])&&void 0!==i?i:{})[n])&&void 0!==o?o:[]]).reduceRight(((e,t)=>je.SettingRegistry.reconcileToolbarItems(e,t,!0)),[]);e.properties[r].default=je.SettingRegistry.reconcileToolbarItems(a,e.properties[r].default,!0).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:50)-(null!==(s=t.rank)&&void 0!==s?s:50)}))}t.transform(s,{compose:e=>{var t,n,s,i,a;d||(d=o.JSONExt.deepCopy(e.schema),g(d));const l=null!==(s=(null!==(n=(null!==(t=d.properties)&&void 0!==t?t:{})[r])&&void 0!==n?n:{}).default)&&void 0!==s?s:[],c=e.data.user,h=e.data.composite;return c[r]=null!==(i=e.data.user[r])&&void 0!==i?i:[],h[r]=(null!==(a=je.SettingRegistry.reconcileToolbarItems(l,c[r],!1))&&void 0!==a?a:[]).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:50)-(null!==(s=t.rank)&&void 0!==s?s:50)})),e.data={composite:h,user:c},e},fetch:e=>(d||(d=o.JSONExt.deepCopy(e.schema),g(d)),{data:e.data,id:e.id,raw:e.raw,schema:d,version:e.version})})}catch(_){if("TransformError"!==_.name)throw _;h=!1}const u=await t.load(s);u.changed.connect((()=>{var e;const t=null!==(e=u.composite[r])&&void 0!==e?e:[];p(t)}));const p=t=>{e.clear(),e.pushAll(t.filter((e=>!e.disabled)))};p(null!==(a=u.composite[r])&&void 0!==a?a:[]),h&&t.pluginChanged.connect((async(e,i)=>{var r,a,h;if(i===s)return;const u=null!==(r=c[i])&&void 0!==r?r:[],p=null!==(h=(null!==(a=t.plugins[i].schema[We])&&void 0!==a?a:{})[n])&&void 0!==h?h:[];o.JSONExt.deepEqual(u,p)||(c[i]?await async function(e){(await A({title:e.__("Information"),body:e.__("Toolbar customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[x.cancelButton(),x.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}(l):p.length>0&&(d=null,await t.reload(s)))}))}(a,t,n,s,i,r).catch((e=>{console.error(`Failed to load toolbar items for factory ${n} from ${s}`,e)})),t=>{const s=(s,o)=>{switch(o.type){case"move":i.move(o.oldIndex,o.newIndex);break;case"add":o.newValues.forEach((s=>i.push({name:s.name,widget:e.createWidget(n,t,s)})));break;case"remove":o.oldValues.forEach((()=>i.remove(o.oldIndex)));break;case"set":o.newValues.forEach((s=>i.set(o.newIndex,{name:s.name,widget:e.createWidget(n,t,s)})))}},i=new Me.a({values:(0,f.toArray)(a).map((s=>({name:s.name,widget:e.createWidget(n,t,s)})))});return a.changed.connect(s),t.disposed.connect((()=>{a.changed.disconnect(s)})),i}}function He(e,t){if(!e.toolbar)return void console.log(`Widget ${e.id} has no 'toolbar'.`);const n=t(e);if(Array.isArray(n))n.forEach((({name:t,widget:n})=>{e.toolbar.addItem(t,n)}));else{const t=(t,n)=>{switch(n.type){case"add":n.newValues.forEach(((t,s)=>{e.toolbar.insertItem(n.newIndex+s,t.name,t.widget)}));break;case"move":n.oldValues.forEach((e=>{e.widget.parent=null})),n.newValues.forEach(((t,s)=>{e.toolbar.insertItem(n.newIndex+s,t.name,t.widget)}));break;case"remove":n.oldValues.forEach((e=>{e.widget.parent=null}));break;case"set":n.oldValues.forEach((e=>{e.widget.parent=null})),n.newValues.forEach(((t,s)=>{const i=(0,f.findIndex)(e.toolbar.names(),(e=>t.name===e));i>=0&&((0,f.toArray)(e.toolbar.children())[i].parent=null),e.toolbar.insertItem(n.newIndex+s,t.name,t.widget)}))}};t(n,{newIndex:0,newValues:(0,f.toArray)(n),oldIndex:0,oldValues:[],type:"add"}),n.changed.connect(t),e.disposed.connect((()=>{n.changed.disconnect(t)}))}}class Ke{constructor(e){this._widgets=new Map,this._defaultFactory=e.defaultFactory}get defaultFactory(){return this._defaultFactory}set defaultFactory(e){this._defaultFactory=e}createWidget(e,t,n){var s;const i=null===(s=this._widgets.get(e))||void 0===s?void 0:s.get(n.name);return i?i(t):this._defaultFactory(e,t,n)}registerFactory(e,t,n){let s=this._widgets.get(e);const i=null==s?void 0:s.get(t);return s||(s=new Map,this._widgets.set(e,s)),s.set(t,n),i}}function ze(e){return(t,n,s)=>{var i;switch(null!==(i=s.type)&&void 0!==i?i:"command"){case"command":{const{command:t,args:n,label:i,icon:o}=s,a=null!=t?t:"",l=Object.assign({toolbar:!0},n),d=o?r.LabIcon.resolve({icon:o}):void 0,c=(null!=d?d:e.icon(a,l))?null!=i?i:"":i;return new ge({commands:e,id:a,args:l,icon:d,label:c})}case"spacer":return ae.createSpacerItem();default:return new l.Widget}}}const Ge=new o.Token("@jupyterlab/apputils:IWindowResolver");class Ue{get name(){return this._name}resolve(e){return Ve.resolve(e).then((e=>{this._name=e}))}}var Ve;!function(e){const t="@jupyterlab/statedb:StateDB",n=`${t}:beacon`,s=Math.floor(200+300*Math.random()),i=`${t}:window`;let r=null,a=null;const l=new o.PromiseDelegate,d={};let c=null,h=!1;function u(e){if(null===e)return;const{localStorage:t}=window;t.setItem(i,`${e}-${(new Date).getTime()}`)}function p(){h=!0,r=null,l.reject(`Window name candidate "${a}" already exists`)}e.resolve=function(e){if(h)return l.promise;if(a=e,a in d)return p(),l.promise;const{localStorage:t,setTimeout:i}=window;return i((()=>{if(!h){if(!a||a in d)return p();h=!0,r=null,l.resolve(c=a),u(c)}}),s),r=`${Math.random()}-${(new Date).getTime()}`,t.setItem(n,r),l.promise},window.addEventListener("storage",(e=>{const{key:t,newValue:s}=e;if(null===s)return;if(t===n&&s!==r&&null!==a)return void u(h?c:a);if(h||t!==i)return;const o=s.replace(/\-\d+$/,"");d[o]=null,a&&!(a in d)||p()}))}(Ve||(Ve={}))},86839:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s,i=n(23203),o=n(4947);class r{constructor(e={}){this._array=[],this._isDisposed=!1,this._changed=new o.Signal(this),void 0!==e.values&&(0,i.each)(e.values,(e=>{this._array.push(e)})),this._itemCmp=e.itemCmp||s.itemCmp}get type(){return"List"}get changed(){return this._changed}get length(){return this._array.length}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,o.Signal.clearData(this),this.clear())}iter(){return new i.ArrayIterator(this._array)}get(e){return this._array[e]}set(e,t){const n=this._array[e];if(void 0===t)throw new Error("Cannot set an undefined item");(0,this._itemCmp)(n,t)||(this._array[e]=t,this._changed.emit({type:"set",oldIndex:e,newIndex:e,oldValues:[n],newValues:[t]}))}push(e){const t=this._array.push(e);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[e]}),t}insert(e,t){e===this._array.length?this._array.push(t):i.ArrayExt.insert(this._array,e,t),this._changed.emit({type:"add",oldIndex:-2,newIndex:e,oldValues:[],newValues:[t]})}removeValue(e){const t=this._itemCmp,n=i.ArrayExt.findFirstIndex(this._array,(n=>t(n,e)));return this.remove(n),n}remove(e){const t=i.ArrayExt.removeAt(this._array,e);if(void 0!==t)return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,newValues:[],oldValues:[t]}),t}clear(){const e=this._array.slice();this._array.length=0,this._changed.emit({type:"remove",oldIndex:0,newIndex:0,newValues:[],oldValues:e})}move(e,t){if(this.length<=1||e===t)return;const n=[this._array[e]];i.ArrayExt.move(this._array,e,t),this._changed.emit({type:"move",oldIndex:e,newIndex:t,oldValues:n,newValues:n})}pushAll(e){const t=this.length;return(0,i.each)(e,(e=>{this._array.push(e)})),this._changed.emit({type:"add",oldIndex:-1,newIndex:t,oldValues:[],newValues:(0,i.toArray)(e)}),this.length}insertAll(e,t){const n=e;(0,i.each)(t,(t=>{i.ArrayExt.insert(this._array,e++,t)})),this._changed.emit({type:"add",oldIndex:-2,newIndex:n,oldValues:[],newValues:(0,i.toArray)(t)})}removeRange(e,t){const n=this._array.slice(e,t);for(let n=e;n<t;n++)i.ArrayExt.removeAt(this._array,e);return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,oldValues:n,newValues:[]}),this.length}}!function(e){e.itemCmp=function(e,t){return e===t}}(s||(s={}))},24330:(e,t,n)=>{const s=n(60883),i=n(45555),{isPlainObject:o}=n(10303),r=n(39714),a=n(48915),{parse:l}=n(95489),d=["img","audio","video","picture","svg","object","map","iframe","embed"],c=["script","style"];function h(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function u(e,t){return{}.hasOwnProperty.call(e,t)}function p(e,t){const n=[];return h(e,(function(e){t(e)&&n.push(e)})),n}e.exports=_;const g=/^[^\0\t\n\f\r /<=>]+$/;function _(e,t,n){if(null==e)return"";let b="",f="";function v(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=b.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){P.length&&(P[P.length-1].text+=n.text)},this.updateParentNodeMediaChildren=function(){P.length&&d.includes(this.tag)&&P[P.length-1].mediaChildren.push(this.tag)}}(t=Object.assign({},_.defaults,t)).parser=Object.assign({},m,t.parser),c.forEach((function(e){t.allowedTags&&t.allowedTags.indexOf(e)>-1&&!t.allowVulnerableTags&&console.warn(`\n\n⚠️ Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const y=t.nonTextTags||["script","style","textarea","option"];let w,C;t.allowedAttributes&&(w={},C={},h(t.allowedAttributes,(function(e,t){w[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):w[t].push(e)})),n.length&&(C[t]=new RegExp("^("+n.join("|")+")$"))})));const E={},T={};h(t.allowedClasses,(function(e,t){w&&(u(w,t)||(w[t]=[]),w[t].push("class")),E[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):E[t].push(e)})),n.length&&(T[t]=new RegExp("^("+n.join("|")+")$"))}));const k={};let O,R,P,S,A,I,x;h(t.transformTags,(function(e,t){let n;"function"==typeof e?n=e:"string"==typeof e&&(n=_.simpleTransform(e)),"*"===t?O=n:k[t]=n}));let D=!1;B();const N=new s.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&B(),I)return void x++;const s=new v(e,n);P.push(s);let i=!1;const d=!!s.text;let c;if(u(k,e)&&(c=k[e](e,n),s.attribs=n=c.attribs,void 0!==c.text&&(s.innerText=c.text),e!==c.tagName&&(s.name=e=c.tagName,A[R]=c.tagName)),O&&(c=O(e,n),s.attribs=n=c.attribs,e!==c.tagName&&(s.name=e=c.tagName,A[R]=c.tagName)),(t.allowedTags&&-1===t.allowedTags.indexOf(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(u(e,t))return!1;return!0}(S)||null!=t.nestingLimit&&R>=t.nestingLimit)&&(i=!0,S[R]=!0,"discard"===t.disallowedTagsMode&&-1!==y.indexOf(e)&&(I=!0,x=1),S[R]=!0),R++,i){if("discard"===t.disallowedTagsMode)return;f=b,b=""}b+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(s.innerText=""),(!w||u(w,e)||w["*"])&&h(n,(function(n,i){if(!g.test(i))return void delete s.attribs[i];let d,c=!1;if(!w||u(w,e)&&-1!==w[e].indexOf(i)||w["*"]&&-1!==w["*"].indexOf(i)||u(C,e)&&C[e].test(i)||C["*"]&&C["*"].test(i))c=!0;else if(w&&w[e])for(const t of w[e])if(o(t)&&t.name&&t.name===i){c=!0;let e="";if(!0===t.multiple){const s=n.split(" ");for(const n of s)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(i)&&L(e,n))return void delete s.attribs[i];if("script"===e&&"src"===i){let e=!0;try{const s=new URL(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===s.hostname})),i=(t.allowedScriptDomains||[]).find((function(e){return s.hostname===e||s.hostname.endsWith(`.${e}`)}));e=n||i}}catch(t){e=!1}if(!e)return void delete s.attribs[i]}if("iframe"===e&&"src"===i){let e=!0;try{if((n=n.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let s="relative://relative-site";for(let e=0;e<100;e++)s+=`/${e}`;const i=new URL(n,s);if(i&&"relative-site"===i.hostname&&"relative:"===i.protocol)e=u(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===i.hostname})),s=(t.allowedIframeDomains||[]).find((function(e){return i.hostname===e||i.hostname.endsWith(`.${e}`)}));e=n||s}}catch(t){e=!1}if(!e)return void delete s.attribs[i]}if("srcset"===i)try{if(d=a(n),d.forEach((function(e){L("srcset",e.url)&&(e.evil=!0)})),d=p(d,(function(e){return!e.evil})),!d.length)return void delete s.attribs[i];n=p(d,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),s.attribs[i]=n}catch(e){return void delete s.attribs[i]}if("class"===i){const t=E[e],o=E["*"],a=[T[e],T["*"]].filter((function(e){return e}));if(!(h=n,_=t&&o?r(t,o):t||o,m=a,n=_?(h=h.split(/\s+/)).filter((function(e){return-1!==_.indexOf(e)||m.some((function(t){return t.test(e)}))})).join(" "):h).length)return void delete s.attribs[i]}if("style"===i)try{if(0===(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(t.prop+":"+t.value),e}),[]).join(";")}(function(e,t){if(!t)return e;const n=e.nodes[0];let s;return s=t[n.selector]&&t["*"]?r(t[n.selector],t["*"]):t[n.selector]||t["*"],s&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){return u(e,n.prop)&&e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n),t}}(s),[])),e}(l(e+" {"+n+"}"),t.allowedStyles))).length)return void delete s.attribs[i]}catch(e){return void delete s.attribs[i]}b+=" "+i,n&&n.length&&(b+='="'+$(n,!0)+'"')}else delete s.attribs[i];var h,_,m})),-1!==t.selfClosing.indexOf(e)?b+=" />":(b+=">",!s.innerText||d||t.textFilter||(b+=$(s.innerText),D=!0)),i&&(b=f+$(b),f="")},ontext:function(e){if(I)return;const n=P[P.length-1];let s;if(n&&(s=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==s&&"style"!==s){const n=$(e,!1);t.textFilter&&!D?b+=t.textFilter(n,s):D||(b+=n)}else b+=e;P.length&&(P[P.length-1].text+=e)},onclosetag:function(e){if(I){if(x--,x)return;I=!1}const n=P.pop();if(!n)return;I=!!t.enforceHtmlBoundary&&"html"===e,R--;const s=S[R];if(s){if(delete S[R],"discard"===t.disallowedTagsMode)return void n.updateParentNodeText();f=b,b=""}A[R]&&(e=A[R],delete A[R]),t.exclusiveFilter&&t.exclusiveFilter(n)?b=b.substr(0,n.tagPosition):(n.updateParentNodeMediaChildren(),n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)?(b+="</"+e+">",s&&(b=f+$(b),f="")):s&&(b=f,f=""))}},t.parser);return N.write(e),N.end(),b;function B(){b="",R=0,P=[],S={},A={},I=!1,x=0}function $(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function L(e,n){const s=(n=(n=n.replace(/[\x00-\x20]+/g,"")).replace(/<!--.*?-->/g,"")).match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!s)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const i=s[1].toLowerCase();return u(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(i):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(i)}}const m={decodeEntities:!0};_.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},_.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(s,i){let o;if(n)for(o in t)i[o]=t[o];else i=t;return{tagName:e,attribs:i}}}},45555:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}}]);