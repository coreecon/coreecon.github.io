(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[2075],{82075:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttachmentModel:()=>o,ILatexTypesetter:()=>se,IRenderMimeRegistry:()=>ne,MimeModel:()=>W,OutputModel:()=>K,RenderMimeRegistry:()=>te,RenderedCommon:()=>L,RenderedHTML:()=>D,RenderedHTMLCommon:()=>S,RenderedImage:()=>U,RenderedJavaScript:()=>z,RenderedLatex:()=>N,RenderedMarkdown:()=>A,RenderedSVG:()=>$,RenderedText:()=>I,htmlRendererFactory:()=>H,imageRendererFactory:()=>P,javaScriptRendererFactory:()=>V,latexRendererFactory:()=>F,markdownRendererFactory:()=>J,removeMath:()=>v,renderHTML:()=>w,renderImage:()=>k,renderLatex:()=>R,renderMarkdown:()=>C,renderSVG:()=>j,renderText:()=>M,replaceMath:()=>x,standardRendererFactories:()=>q,svgRendererFactory:()=>B,textRendererFactory:()=>G});var s,r=n(41165),a=n(92233),i=n(4947);class o{constructor(e){this.trusted=!1,this._changed=new i.Signal(this),this._raw={};const t=s.getData(e.value);this._data=new r.T({values:t}),this._rawData=t;const n=e.value;for(const e in n)"data"===e||(this._raw[e]=s.extract(n,e))}get changed(){return this._changed}dispose(){this._data.dispose(),i.Signal.clearData(this)}get data(){return this._rawData}get metadata(){return{}}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),this._changed.emit(void 0)}toJSON(){const e={};for(const t in this._raw)e[t]=s.extract(this._raw,t);return e}_updateObservable(e,t){const n=e.keys(),s=Object.keys(t);for(const t of n)-1===s.indexOf(t)&&e.delete(t);for(const n of s){const s=e.get(n),r=t[n];s!==r&&e.set(n,r)}}}!function(e){e.getData=function(e){return s.getData(e)}}(o||(o={})),function(e){function t(e){return function(e){const t=Object.create(null);for(const s in e)t[s]=n(e,s);return t}(e)}function n(e,t){const n=e[t];return void 0===n||a.JSONExt.isPrimitive(n)?n:a.JSONExt.deepCopy(n)}e.getData=t,e.getBundleOptions=function(e){return{data:t(e.value)}},e.extract=n}(s||(s={}));var l=n(56956),c=n(42051),d=n(79112),u=n(59110),h=n(23203),p=n(20694),f=n.n(p),m=n(48085);const g="$",y=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function v(e){const t=[];let n,s=null,r=null,a=null,i=0;e.includes("`")||e.includes("~~~")?(e=e.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,(e=>e.replace(/\$/g,"~D"))).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(e=>e.replace(/\$/g,"~D"))),n=e=>e.replace(/~([TD])/g,((e,t)=>"T"===t?"~":g))):n=e=>e;let o=e.replace(/\r\n?/g,"\n").split(y);for(let e=1,l=o.length;e<l;e+=2){const l=o[e];"@"===l.charAt(0)?(o[e]="@@"+t.length+"@@",t.push(l)):null!==s?l===r?i?a=e:(o=T(s,e,n,t,o),s=null,r=null,a=null):l.match(/\n.*\n/)?(null!==a&&(e=a,o=T(s,e,n,t,o)),s=null,r=null,a=null,i=0):"{"===l?i++:"}"===l&&i&&i--:l===g||"$$"===l?(s=e,r=l,i=0):"\\\\("===l||"\\\\["===l?(s=e,r="("===l.slice(-1)?"\\\\)":"\\\\]",i=0):"begin"===l.substr(1,5)&&(s=e,r="\\end"+l.substr(6),i=0)}return null!==s&&null!==a&&(o=T(s,a,n,t,o),s=null,r=null,a=null),{text:n(o.join("")),math:t}}function x(e,t){return e.replace(/@@(\d+)@@/g,((e,n)=>{let s=t[n];return"\\\\("===s.substr(0,3)&&"\\\\)"===s.substr(s.length-3)?s="\\("+s.substring(3,s.length-3)+"\\)":"\\\\["===s.substr(0,3)&&"\\\\]"===s.substr(s.length-3)&&(s="\\["+s.substring(3,s.length-3)+"\\]"),s}))}function T(e,t,n,s,r){let a=r.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(a=a.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)r[t]="",t--;return r[e]="@@"+s.length+"@@",n&&(a=n(a)),s.push(a),r}var b,_=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};function w(e){let{host:t,source:n,trusted:s,sanitizer:r,resolver:a,linkHandler:i,shouldTypeset:o,latexTypesetter:c,translator:d}=e;d=d||l.nullTranslator;const u=null==d?void 0:d.load("jupyterlab");let h,p=n;if(!n)return t.textContent="",Promise.resolve(void 0);if(s||(p=`${n}`,n=r.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0)if(s)b.evalInnerHTMLScriptTags(t);else{const e=document.createElement("div"),n=document.createElement("pre");n.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const s=document.createElement("button");s.textContent=u.__("Run"),s.onclick=e=>{t.innerHTML=p,b.evalInnerHTMLScriptTags(t),t.firstChild&&t.removeChild(t.firstChild)},e.appendChild(n),e.appendChild(s),t.insertBefore(e,t.firstChild)}return b.handleDefaults(t,a),h=a?b.handleUrls(t,a,i):Promise.resolve(void 0),h.then((()=>{o&&c&&c.typeset(t)}))}function k(e){const{host:t,mimeType:n,source:s,width:r,height:a,needsBackground:i,unconfined:o}=e;t.textContent="";const l=document.createElement("img");return l.src=`data:${n};base64,${s}`,"number"==typeof a&&(l.height=a),"number"==typeof r&&(l.width=r),"light"===i?l.classList.add("jp-needs-light-background"):"dark"===i&&l.classList.add("jp-needs-dark-background"),!0===o&&l.classList.add("jp-mod-unconfined"),t.appendChild(l),Promise.resolve(void 0)}function R(e){const{host:t,source:n,shouldTypeset:s,latexTypesetter:r}=e;return t.textContent=n,s&&r&&r.typeset(t),Promise.resolve(void 0)}async function C(e){const{host:t,source:n}=e,s=_(e,["host","source"]);if(!n)return void(t.textContent="");const r=v(n);let a=await C.renderMarked(r.text);a=x(a,r.math),await w(Object.assign({host:t,source:a},s)),b.headerAnchors(t)}function j(e){let{host:t,source:n,trusted:s,unconfined:r}=e;if(!n)return t.textContent="",Promise.resolve(void 0);if(!s)return t.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0);n.search("<svg[^>]+xmlns=[^>]+svg")<0&&(n=n.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));const a=new Image;return a.src=`data:image/svg+xml,${encodeURIComponent(n)}`,t.appendChild(a),!0===r&&t.classList.add("jp-mod-unconfined"),Promise.resolve()}function E(e,t){var n,s;const r=e.cloneNode();r.textContent=null===(n=e.textContent)||void 0===n?void 0:n.slice(0,t);const a=e.cloneNode();return a.textContent=null===(s=e.textContent)||void 0===s?void 0:s.slice(t),{pre:r,post:a}}function*O(e){var t;let n,s=0;for(let r of e)n=s+((null===(t=r.textContent)||void 0===t?void 0:t.length)||0),yield{node:r,start:s,end:n,isText:r.nodeType===Node.TEXT_NODE},s=n}function M(e){const{host:t,sanitizer:n,source:s}=e,r=n.sanitize(b.ansiSpan(s),{allowedTags:["span"]}),a=document.createElement("pre"),i=document.createElement("pre");i.innerHTML=r;const o=i.textContent;if(o){const e=function(e){const t="\\u0000-\\u0020\\u007f-\\u009f",n=new RegExp("(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+t+'"]{2,}[^\\s'+t+"\"'(){}\\[\\],:;.!?]","ug"),s=[];let r,a=0;for(;null!=(r=n.exec(e));){r.index!==a&&s.push(document.createTextNode(e.slice(a,r.index)));let t=r[0];const n=t.slice(-1),i=-1!==[">","<"].indexOf(n)?t.length-1:t.length,o=document.createElement("a");t=t.slice(0,i),o.href=t.startsWith("www.")?"https://"+t:t,o.rel="noopener",o.target="_blank",o.appendChild(document.createTextNode(t.slice(0,i))),s.push(o),a=r.index+i}return a!==e.length&&s.push(document.createTextNode(e.slice(a,e.length))),s}(o);let t=!1;const n=[],s=Array.from(i.childNodes);for(let r of function*(e,t){var n,s;let r=O(e),a=O(t),i=r.next(),o=a.next();for(;!i.done&&!o.done;){let e=i.value,t=o.value;if(e.isText&&e.start<=t.start&&e.end>=t.end)yield[null,t.node],o=a.next();else if(t.isText&&t.start<=e.start&&t.end>=e.end)yield[e.node,null],i=r.next();else if(e.end===t.end&&e.start===t.start)yield[e.node,t.node],i=r.next(),o=a.next();else if(e.end>t.end){let{pre:s,post:r}=E(e.node,t.end-e.start);t.start<e.start&&(t.node.textContent=null===(n=t.node.textContent)||void 0===n?void 0:n.slice(e.start-t.start)),yield[s,t.node],e.node=r,e.start=t.end,o=a.next()}else{if(!(t.end>e.end))throw new Error(`Unexpected intersection: ${JSON.stringify(e)} ${JSON.stringify(t)}`);{let{pre:n,post:a}=E(t.node,e.end-t.start);e.start<t.start&&(e.node.textContent=null===(s=e.node.textContent)||void 0===s?void 0:s.slice(t.start-e.start)),yield[e.node,n],t.node=a,t.start=e.end,i=r.next()}}}}(s,e)){if(!r[0]){n.push(r[1]),t=r[1].nodeType!==Node.TEXT_NODE;continue}if(!r[1]){n.push(r[0]),t=!1;continue}let[e,s]=r;const a=n[n.length-1];t&&s.href===a.href?a.appendChild(e):s.nodeType!==Node.TEXT_NODE?(s.textContent="",s.appendChild(e),n.push(s),t=!0):(n.push(e),t=!1)}for(const e of n)a.appendChild(e)}return t.appendChild(a),Promise.resolve(void 0)}!function(e){e.renderMarked=function(e){return b.initializeMarked(),new Promise(((t,n)=>{(0,m.TU)(e,((e,s)=>{e?n(e):t(s)}))}))}}(C||(C={})),function(e){async function t(e,t,n){const s=e.getAttribute(t)||"",r=n.isLocal?n.isLocal(s):u.URLExt.isLocal(s);if(s&&r)try{const r=await n.resolveUrl(s);let a=await n.getDownloadUrl(r);"data:"!==u.URLExt.parse(a).protocol&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime()),e.setAttribute(t,a)}catch(n){throw e.setAttribute(t,""),n}}function n(e,t,n){let s=e.getAttribute("href")||"";const r=t.isLocal?t.isLocal(s):u.URLExt.isLocal(s);if(!s||!r)return Promise.resolve(void 0);const a=e.hash;if(a){if(a===s)return e.target="_self",Promise.resolve(void 0);s=s.replace(a,"")}return t.resolveUrl(s).then((s=>{const r=decodeURIComponent(s);return n&&n.handleLink(e,r,a),t.getDownloadUrl(s)})).then((t=>{e.href=t+a})).catch((t=>{e.href=""}))}e.evalInnerHTMLScriptTags=function(e){const t=(0,h.toArray)(e.getElementsByTagName("script"));for(const e of t){if(!e.parentNode)continue;const t=document.createElement("script"),n=e.attributes;for(let e=0,s=n.length;e<s;++e){const{name:s,value:r}=n[e];t.setAttribute(s,r)}t.textContent=e.textContent,e.parentNode.replaceChild(t,e)}},e.handleDefaults=function(e,t){const n=e.getElementsByTagName("a");for(let e=0;e<n.length;e++){const s=n[e];if(!(s instanceof HTMLAnchorElement))continue;const r=s.href,a=t&&t.isLocal?t.isLocal(r):u.URLExt.isLocal(r);s.target||(s.target=a?"_self":"_blank"),a||(s.rel="noopener")}const s=e.getElementsByTagName("img");for(let e=0;e<s.length;e++)s[e].alt||(s[e].alt="Image")},e.handleUrls=function(e,s,r){const a=[],i=e.querySelectorAll("*[src]");for(let e=0;e<i.length;e++)a.push(t(i[e],"src",s));const o=e.getElementsByTagName("a");for(let e=0;e<o.length;e++)a.push(n(o[e],s,r));const l=e.getElementsByTagName("link");for(let e=0;e<l.length;e++)a.push(t(l[e],"href",s));return Promise.all(a).then((()=>{}))},e.headerAnchors=function(e){var t;const n=["h1","h2","h3","h4","h5","h6"];for(const s of n){const n=e.getElementsByTagName(s);for(let e=0;e<n.length;e++){const s=n[e];s.id=(null!==(t=s.textContent)&&void 0!==t?t:"").replace(/ /g,"-");const r=document.createElement("a");r.target="_self",r.textContent="¶",r.href="#"+s.id,r.classList.add("jp-InternalAnchorLink"),s.appendChild(r)}}};let s=!1;e.initializeMarked=function(){s||(s=!0,m.TU.setOptions({gfm:!0,sanitize:!1,langPrefix:`cm-s-${d.sI.defaultConfig.theme} language-`,highlight:(e,t,n)=>{const s=(e,t)=>(n&&n(e,t),t);return t?(d.AR.ensure(t).then((n=>{const r=document.createElement("div");if(!n)return console.error(`No CodeMirror mode: ${t}`),s(null,e);try{return d.AR.run(e,n.mime,r),s(null,r.innerHTML)}catch(n){return console.error(`Failed to highlight ${t} code`,n),s(n,e)}})).catch((n=>(console.error(`No CodeMirror mode: ${t}`),console.error(`Require CodeMirror mode error: ${n}`),s(null,e)))),e):s(null,e)}}))};const r=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function a(e,t,n,s,a,i,o){if(e){const l=[],c=[];s&&"number"==typeof t&&0<=t&&t<8&&(t+=8),i&&([t,n]=[n,t]),"number"==typeof t?l.push(r[t]+"-fg"):t.length?c.push(`color: rgb(${t})`):i&&l.push("ansi-default-inverse-fg"),"number"==typeof n?l.push(r[n]+"-bg"):n.length?c.push(`background-color: rgb(${n})`):i&&l.push("ansi-default-inverse-bg"),s&&l.push("ansi-bold"),a&&l.push("ansi-underline"),l.length||c.length?(o.push("<span"),l.length&&o.push(` class="${l.join(" ")}"`),c.length&&o.push(` style="${c.join("; ")}"`),o.push(">"),o.push(e),o.push("</span>")):o.push(e)}}function i(e){let t,n,s;const r=e.shift();if(2===r&&e.length>=3){if(t=e.shift(),n=e.shift(),s=e.shift(),[t,n,s].some((e=>e<0||255<e)))throw new RangeError("Invalid range for RGB colors")}else{if(!(5===r&&e.length>=1))throw new RangeError("Invalid extended color specification");{const r=e.shift();if(r<0)throw new RangeError("Color index must be >= 0");if(r<16)return r;if(r<232)t=Math.floor((r-16)/36),t=t>0?55+40*t:0,n=Math.floor((r-16)%36/6),n=n>0?55+40*n:0,s=(r-16)%6,s=s>0?55+40*s:0;else{if(!(r<256))throw new RangeError("Color index must be < 256");t=n=s=10*(r-232)+8}}}return[t,n,s]}e.ansiSpan=function(e){const t=/\x1b\[(.*?)([@-~])/g;let n,s=[],r=[],o=!1,l=!1,c=!1;const d=[],u=[];let h=0;for(e=f()(e),e+="[m";n=t.exec(e);){if("m"===n[2]){const e=n[1].split(";");for(let t=0;t<e.length;t++){const n=e[t];if(""===n)u.push(0);else{if(-1===n.search(/^\d+$/)){u.length=0;break}u.push(parseInt(n,10))}}}for(a(e.substring(h,n.index),s,r,o,l,c,d),h=t.lastIndex;u.length;){const e=u.shift();switch(e){case 0:s=r=[],o=!1,l=!1,c=!1;break;case 1:case 5:o=!0;break;case 4:l=!0;break;case 7:c=!0;break;case 21:case 22:o=!1;break;case 24:l=!1;break;case 27:c=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:s=e-30;break;case 38:try{s=i(u)}catch(e){u.length=0}break;case 39:s=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:r=e-40;break;case 48:try{r=i(u)}catch(e){u.length=0}break;case 49:r=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:s=e-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:r=e-100+8}}}return d.join("")}}(b||(b={}));class L extends c.Widget{constructor(e){super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=e.translator||l.nullTranslator,this.latexTypesetter=e.latexTypesetter,this.node.dataset.mimeType=this.mimeType}async renderModel(e){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);const{fragment:t}=e.metadata;t&&this.setFragment(t)}setFragment(e){}}class S extends L{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let t;try{t=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(e){console.warn("Unable to set URI fragment identifier.",e)}t&&t.scrollIntoView()}}class D extends S{constructor(e){super(e),this.addClass("jp-RenderedHTML")}render(e){return w({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class N extends L{constructor(e){super(e),this.addClass("jp-RenderedLatex")}render(e){return R({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class U extends L{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){const t=e.metadata[this.mimeType];return k({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,needsBackground:e.metadata.needs_background,unconfined:t&&t.unconfined})}}class A extends S{constructor(e){super(e),this.addClass("jp-RenderedMarkdown")}render(e){return C({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class $ extends L{constructor(e){super(e),this.addClass("jp-RenderedSVG")}render(e){const t=e.metadata[this.mimeType];return j({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:t&&t.unconfined,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class I extends L{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return M({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}}class z extends L{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){const t=this.translator.load("jupyterlab");return M({host:this.node,sanitizer:this.sanitizer,source:t.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}const H={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:e=>new D(e)},P={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:e=>new U(e)},F={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:e=>new N(e)},J={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:e=>new A(e)},B={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:e=>new $(e)},G={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"],defaultRank:120,createRenderer:e=>new I(e)},V={safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:e=>new z(e)},q=[H,J,F,B,P,V,G];class W{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||X.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}}var X;!function(e){e.noOp=function(){}}(X||(X={}));var Y,Z=n(49939);class K{constructor(e){this._changed=new i.Signal(this),this._raw={};const{data:t,metadata:n,trusted:s}=Y.getBundleOptions(e);this._data=new r.T({values:t}),this._rawData=t,this._metadata=new r.T({values:n}),this._rawMetadata=n,this.trusted=s;const a=e.value;for(const e in a)switch(e){case"data":case"metadata":break;default:this._raw[e]=Y.extract(a,e)}this.type=a.output_type,Z.isExecuteResult(a)?this.executionCount=a.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){this._data.dispose(),this._metadata.dispose(),i.Signal.clearData(this)}get data(){return this._rawData}get metadata(){return this._rawMetadata}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit(void 0)}toJSON(){const e={};for(const t in this._raw)e[t]=Y.extract(this._raw,t);switch(this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this.data,e.metadata=this.metadata}return delete e.transient,e}_updateObservable(e,t){const n=e.keys(),s=Object.keys(t);for(const t of n)-1===s.indexOf(t)&&e.delete(t);for(const n of s){const s=e.get(n),r=t[n];s!==r&&e.set(n,r)}}}!function(e){e.getData=function(e){return Y.getData(e)},e.getMetadata=function(e){return Y.getMetadata(e)}}(K||(K={})),function(e){function t(e){let t={};if(Z.isExecuteResult(e)||Z.isDisplayData(e)||Z.isDisplayUpdate(e))t=e.data;else if(Z.isStream(e))"stderr"===e.name?t["application/vnd.jupyter.stderr"]=e.text:t["application/vnd.jupyter.stdout"]=e.text;else if(Z.isError(e)){t["application/vnd.jupyter.error"]=e;const n=e.traceback.join("\n");t["application/vnd.jupyter.stderr"]=n||`${e.ename}: ${e.evalue}`}return function(e){const t=Object.create(null);for(const n in e)t[n]=s(e,n);return t}(t)}function n(e){const t=Object.create(null);if(Z.isExecuteResult(e)||Z.isDisplayData(e))for(const n in e.metadata)t[n]=s(e.metadata,n);return t}function s(e,t){const n=e[t];return void 0===n||a.JSONExt.isPrimitive(n)?n:JSON.parse(JSON.stringify(n))}e.getData=t,e.getMetadata=n,e.getBundleOptions=function(e){return{data:t(e.value),metadata:n(e.value),trusted:!!e.trusted}},e.extract=s}(Y||(Y={}));var Q,ee=n(37782);class te{constructor(e={}){if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=e.translator||l.nullTranslator,this.resolver=e.resolver||null,this.linkHandler=e.linkHandler||null,this.latexTypesetter=e.latexTypesetter||null,this.sanitizer=e.sanitizer||ee.defaultSanitizer,e.initialFactories)for(const t of e.initialFactories)this.addFactory(t)}get mimeTypes(){return this._types||(this._types=Q.sortedTypes(this._ranks))}preferredMimeType(e,t="ensure"){if("ensure"===t||"prefer"===t)for(const t of this.mimeTypes)if(t in e&&this._factories[t].safe)return t;if("ensure"!==t)for(const t of this.mimeTypes)if(t in e)return t}createRenderer(e){if(!(e in this._factories))throw new Error(`No factory for mime type: '${e}'`);return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,translator:this.translator})}createModel(e={}){return new W(e)}clone(e={}){const t=new te({resolver:e.resolver||this.resolver||void 0,sanitizer:e.sanitizer||this.sanitizer||void 0,linkHandler:e.linkHandler||this.linkHandler||void 0,latexTypesetter:e.latexTypesetter||this.latexTypesetter||void 0,translator:this.translator});return t._factories=Object.assign({},this._factories),t._ranks=Object.assign({},this._ranks),t._id=this._id,t}getFactory(e){return this._factories[e]}addFactory(e,t){void 0===t&&void 0===(t=e.defaultRank)&&(t=100);for(const n of e.mimeTypes)this._factories[n]=e,this._ranks[n]={rank:t,id:this._id++};this._types=null}removeMimeType(e){delete this._factories[e],delete this._ranks[e],this._types=null}getRank(e){const t=this._ranks[e];return t&&t.rank}setRank(e,t){if(!this._ranks[e])return;const n=this._id++;this._ranks[e]={rank:t,id:n},this._types=null}}!function(e){e.UrlResolver=class{constructor(e){if(e.path)this._path=e.path;else{if(!e.session)throw new Error("Either 'path' or 'session' must be given as a constructor option");this._session=e.session}this._contents=e.contents}get path(){var e;return null!==(e=this._path)&&void 0!==e?e:this._session.path}set path(e){this._path=e}async resolveUrl(e){if(this.isLocal(e)){const t=encodeURI(u.PathExt.dirname(this.path));e=u.PathExt.resolve(t,e)}return e}async getDownloadUrl(e){return this.isLocal(e)?this._contents.getDownloadUrl(decodeURIComponent(e)):e}isLocal(e){return!this.isMalformed(e)&&(u.URLExt.isLocal(e)||!!this._contents.driveName(decodeURI(e)))}isMalformed(e){try{return decodeURI(e),!1}catch(e){if(e instanceof URIError)return!0;throw e}}}}(te||(te={})),function(e){e.sortedTypes=function(e){return Object.keys(e).sort(((t,n)=>{const s=e[t],r=e[n];return s.rank!==r.rank?s.rank-r.rank:s.id-r.id}))},e.sessionConnection=function(e){return e.sessionChanged?e.session:e}}(Q||(Q={}));const ne=new a.Token("@jupyterlab/rendermime:IRenderMimeRegistry"),se=new a.Token("@jupyterlab/rendermime:ILatexTypesetter")},20694:(e,t,n)=>{var s,r=1/0,a="[object Symbol]",i=/[&<>"'`]/g,o=RegExp(i.source),l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),u=(s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==s?void 0:s[e]}),h=Object.prototype.toString,p=d.Symbol,f=p?p.prototype:void 0,m=f?f.toString:void 0;e.exports=function(e){var t;return(e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==a}(e))return m?m.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(t))&&o.test(e)?e.replace(i,u):e}}}]);